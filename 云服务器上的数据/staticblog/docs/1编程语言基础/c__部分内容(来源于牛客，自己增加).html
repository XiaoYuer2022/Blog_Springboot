<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://haoxx.top/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html"><meta property="og:site_name" content="å¼€å¿ƒé…’é¦†"><meta property="og:title" content="C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹"><meta property="og:description" content="æç¤º C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-05-18T13:40:37.000Z"><meta property="article:author" content="Mr.HaoXX"><meta property="article:published_time" content="2022-10-30T00:00:00.000Z"><meta property="article:modified_time" content="2023-05-18T13:40:37.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹","image":[""],"datePublished":"2022-10-30T00:00:00.000Z","dateModified":"2023-05-18T13:40:37.000Z","author":[{"@type":"Person","name":"Mr.HaoXX","url":"https://haoxx.top/"}]}</script><link rel="icon" href="/favicon.ico"><meta name="referrer" content="no-referrer-when-downgrade"><title>C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹ | å¼€å¿ƒé…’é¦†</title><meta name="description" content="æç¤º C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-0832a140.css" as="style"><link rel="stylesheet" href="/assets/style-0832a140.css">
    <link rel="modulepreload" href="/assets/app-cd86945f.js"><link rel="modulepreload" href="/assets/framework-e783454b.js"><link rel="modulepreload" href="/assets/c__éƒ¨åˆ†å†…å®¹(æ¥æºäºç‰›å®¢ï¼Œè‡ªå·±å¢åŠ ).html-9b724353.js"><link rel="modulepreload" href="/assets/c__éƒ¨åˆ†å†…å®¹(æ¥æºäºç‰›å®¢ï¼Œè‡ªå·±å¢åŠ ).html-a662ce6d.js"><link rel="prefetch" href="/assets/index.html-0c6e80d8.js" as="script"><link rel="prefetch" href="/assets/visitorbook.html-90e15ff3.js" as="script"><link rel="prefetch" href="/assets/index.html-56d9107c.js" as="script"><link rel="prefetch" href="/assets/index.html-d27339fc.js" as="script"><link rel="prefetch" href="/assets/index.html-333f2f76.js" as="script"><link rel="prefetch" href="/assets/index.html-9b85df5f.js" as="script"><link rel="prefetch" href="/assets/å…³äºæˆ‘.html-124cb063.js" as="script"><link rel="prefetch" href="/assets/index.html-82f20127.js" as="script"><link rel="prefetch" href="/assets/index.html-4086d4fb.js" as="script"><link rel="prefetch" href="/assets/index.html-9158d331.js" as="script"><link rel="prefetch" href="/assets/index.html-6d8b73b1.js" as="script"><link rel="prefetch" href="/assets/index.html-b76a9fff.js" as="script"><link rel="prefetch" href="/assets/index.html-90e3434f.js" as="script"><link rel="prefetch" href="/assets/index.html-d48161b0.js" as="script"><link rel="prefetch" href="/assets/ALL_c__å…¨é¢æ€»ç»“.html-6325208e.js" as="script"><link rel="prefetch" href="/assets/c__å…³é”®å­—è¯´æ˜.html-e57920d8.js" as="script"><link rel="prefetch" href="/assets/c__å¤ä¹ æ€»æ”»ç•¥.html-16545d3d.js" as="script"><link rel="prefetch" href="/assets/c__æŒ‡é’ˆä¸å¸¸é‡çŸ¥è¯†ç‚¹ä¸“é¡¹è¯´æ˜.html-0f6f651a.js" as="script"><link rel="prefetch" href="/assets/cå’Œc__å­—ç¬¦ä¸²å¤„ç†å‡½æ•°å¤§æ±‡æ€».html-31e478e4.js" as="script"><link rel="prefetch" href="/assets/Cå’ŒC__å­¦ä¹ æ€è·¯.html-f9051988.js" as="script"><link rel="prefetch" href="/assets/cå’Œc__çš„æ¯”è¾ƒ.html-c65b6570.js" as="script"><link rel="prefetch" href="/assets/pythonå­¦ä¹ è®°å½•.html-c4fe7818.js" as="script"><link rel="prefetch" href="/assets/index.html-274a8eb6.js" as="script"><link rel="prefetch" href="/assets/å†…å­˜åˆ†åŒºé—®é¢˜.html-966164e4.js" as="script"><link rel="prefetch" href="/assets/å‚è€ƒèµ„æ–™æ±‡æ€».html-69b3b0e3.js" as="script"><link rel="prefetch" href="/assets/ç»“æ„ä½“å­—èŠ‚å¤§å°è®¡ç®—æ‰‹å†Œ.html-d9017882.js" as="script"><link rel="prefetch" href="/assets/ç»¼åˆèµ„æ–™.html-9750832a.js" as="script"><link rel="prefetch" href="/assets/index.html-cf5d190b.js" as="script"><link rel="prefetch" href="/assets/å¤§è¯æ•°æ®ç»“æ„å’Œç®—æ³•.html-e8344306.js" as="script"><link rel="prefetch" href="/assets/index.html-cda81d99.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹ä¸çº¿ç¨‹.html-b93a32e6.js" as="script"><link rel="prefetch" href="/assets/IPv4å­¦ä¹ è®°å½•.html-8e83d835.js" as="script"><link rel="prefetch" href="/assets/IPåœ°å€è¯´æ˜.html-ee8cc3b0.js" as="script"><link rel="prefetch" href="/assets/index.html-632b3c50.js" as="script"><link rel="prefetch" href="/assets/index.html-0e965c43.js" as="script"><link rel="prefetch" href="/assets/ç±»çš„å…³ç³»UMLå›¾.html-7ea4a2ee.js" as="script"><link rel="prefetch" href="/assets/è®¾è®¡æ¨¡å¼æ€»ç»“.html-90f42962.js" as="script"><link rel="prefetch" href="/assets/dockerè®°å½•.html-93188759.js" as="script"><link rel="prefetch" href="/assets/gitæäº¤å‘½ä»¤.html-05330ad3.js" as="script"><link rel="prefetch" href="/assets/index.html-d2f1ad6f.js" as="script"><link rel="prefetch" href="/assets/tmuxä½¿ç”¨è®°å½•.html-d242b37a.js" as="script"><link rel="prefetch" href="/assets/ä½¿ç”¨clashä»£ç†éœ€çŸ¥.html-c18a24ff.js" as="script"><link rel="prefetch" href="/assets/å…³äºcronå’Œanacron.html-91517409.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®åº“mysqlå¸¸ç”¨å‘½ä»¤.html-10a4110d.js" as="script"><link rel="prefetch" href="/assets/ç»ˆç«¯ç¾åŒ–è®°å½•.html-63d160ec.js" as="script"><link rel="prefetch" href="/assets/markdownä¹‹frontmatterè®¾ç½®.html-4ee0e780.js" as="script"><link rel="prefetch" href="/assets/markdownåŸºæœ¬è§„åˆ™å­¦ä¹ ç¬”è®°.html-7c55d91e.js" as="script"><link rel="prefetch" href="/assets/index.html-39ab6932.js" as="script"><link rel="prefetch" href="/assets/1__WebServerå­¦ä¹ ç¬”è®°æ±‡æ€».html-168f4dd7.js" as="script"><link rel="prefetch" href="/assets/2__å°æ—codingçš„WebServeré¢è¯•è€ƒç‚¹_ç‹¬ç«‹ç‰ˆæœ¬.html-3ceb2023.js" as="script"><link rel="prefetch" href="/assets/3__Tinyç»¼åˆå­¦ä¹ _é—®ç­”é¢˜ç»¼åˆ_ç‹¬ç«‹ç‰ˆæœ¬.html-1f104270.js" as="script"><link rel="prefetch" href="/assets/index.html-c375e18c.js" as="script"><link rel="prefetch" href="/assets/ä»£ç éšæƒ³å½•å­¦ä¹ ç¬”è®°_æ€»ç»“_.html-7afc4e78.js" as="script"><link rel="prefetch" href="/assets/C__STLå¸¸ç”¨å®¹å™¨çŸ¥è¯†ç‚¹è¯´æ˜.html-f48723c9.js" as="script"><link rel="prefetch" href="/assets/gdbè°ƒè¯•æ‰‹å†Œ.html-a6726557.js" as="script"><link rel="prefetch" href="/assets/index.html-e166b8b6.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹ä¸çº¿ç¨‹ç¬”è®°.html-c4e8e5e2.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹é—´é€šä¿¡å­¦ä¹ å†…å®¹.html-528e7174.js" as="script"><link rel="prefetch" href="/assets/éƒ¨åˆ†æœ‰ç”¨ç½‘ç«™è®°å½•.html-ad0b521e.js" as="script"><link rel="prefetch" href="/assets/index.html-62fde04a.js" as="script"><link rel="prefetch" href="/assets/index.html-29b7affc.js" as="script"><link rel="prefetch" href="/assets/index.html-8df85f88.js" as="script"><link rel="prefetch" href="/assets/index.html-19964234.js" as="script"><link rel="prefetch" href="/assets/index.html-c1b8d55b.js" as="script"><link rel="prefetch" href="/assets/index.html-9abae9df.js" as="script"><link rel="prefetch" href="/assets/404.html-15810e32.js" as="script"><link rel="prefetch" href="/assets/index.html-35c573c7.js" as="script"><link rel="prefetch" href="/assets/index.html-f1788570.js" as="script"><link rel="prefetch" href="/assets/index.html-ac95d164.js" as="script"><link rel="prefetch" href="/assets/index.html-9267dacb.js" as="script"><link rel="prefetch" href="/assets/index.html-5929313d.js" as="script"><link rel="prefetch" href="/assets/index.html-938d4764.js" as="script"><link rel="prefetch" href="/assets/index.html-e155b649.js" as="script"><link rel="prefetch" href="/assets/index.html-6b3eea3a.js" as="script"><link rel="prefetch" href="/assets/index.html-bf670873.js" as="script"><link rel="prefetch" href="/assets/index.html-3a1d6b0a.js" as="script"><link rel="prefetch" href="/assets/index.html-509e3521.js" as="script"><link rel="prefetch" href="/assets/index.html-deb86756.js" as="script"><link rel="prefetch" href="/assets/index.html-b18e713d.js" as="script"><link rel="prefetch" href="/assets/index.html-140b867f.js" as="script"><link rel="prefetch" href="/assets/index.html-07494391.js" as="script"><link rel="prefetch" href="/assets/index.html-1d054f09.js" as="script"><link rel="prefetch" href="/assets/index.html-5eac0c74.js" as="script"><link rel="prefetch" href="/assets/index.html-b12aef45.js" as="script"><link rel="prefetch" href="/assets/index.html-8ca6a783.js" as="script"><link rel="prefetch" href="/assets/index.html-917eeab2.js" as="script"><link rel="prefetch" href="/assets/index.html-f7365fb2.js" as="script"><link rel="prefetch" href="/assets/index.html-fab9cd16.js" as="script"><link rel="prefetch" href="/assets/index.html-3bf71061.js" as="script"><link rel="prefetch" href="/assets/index.html-bbebb3b0.js" as="script"><link rel="prefetch" href="/assets/index.html-9411c908.js" as="script"><link rel="prefetch" href="/assets/index.html-1879a8b9.js" as="script"><link rel="prefetch" href="/assets/index.html-ca696026.js" as="script"><link rel="prefetch" href="/assets/index.html-7cd66b0a.js" as="script"><link rel="prefetch" href="/assets/index.html-e15c1014.js" as="script"><link rel="prefetch" href="/assets/index.html-66a159e7.js" as="script"><link rel="prefetch" href="/assets/index.html-73892771.js" as="script"><link rel="prefetch" href="/assets/index.html-51b2f747.js" as="script"><link rel="prefetch" href="/assets/visitorbook.html-4f68fb5d.js" as="script"><link rel="prefetch" href="/assets/index.html-fa07182e.js" as="script"><link rel="prefetch" href="/assets/index.html-c5274f30.js" as="script"><link rel="prefetch" href="/assets/index.html-ec2c88b3.js" as="script"><link rel="prefetch" href="/assets/index.html-5db74b66.js" as="script"><link rel="prefetch" href="/assets/å…³äºæˆ‘.html-20221ae0.js" as="script"><link rel="prefetch" href="/assets/index.html-c556656f.js" as="script"><link rel="prefetch" href="/assets/index.html-17e278d1.js" as="script"><link rel="prefetch" href="/assets/index.html-d1273f11.js" as="script"><link rel="prefetch" href="/assets/index.html-e2732ecd.js" as="script"><link rel="prefetch" href="/assets/index.html-554e581b.js" as="script"><link rel="prefetch" href="/assets/index.html-145c6170.js" as="script"><link rel="prefetch" href="/assets/index.html-67f2fb49.js" as="script"><link rel="prefetch" href="/assets/ALL_c__å…¨é¢æ€»ç»“.html-71e84f90.js" as="script"><link rel="prefetch" href="/assets/c__å…³é”®å­—è¯´æ˜.html-23cf2ac3.js" as="script"><link rel="prefetch" href="/assets/c__å¤ä¹ æ€»æ”»ç•¥.html-67c5ab3b.js" as="script"><link rel="prefetch" href="/assets/c__æŒ‡é’ˆä¸å¸¸é‡çŸ¥è¯†ç‚¹ä¸“é¡¹è¯´æ˜.html-95f23508.js" as="script"><link rel="prefetch" href="/assets/cå’Œc__å­—ç¬¦ä¸²å¤„ç†å‡½æ•°å¤§æ±‡æ€».html-0c89e5a2.js" as="script"><link rel="prefetch" href="/assets/Cå’ŒC__å­¦ä¹ æ€è·¯.html-f9dbef1f.js" as="script"><link rel="prefetch" href="/assets/cå’Œc__çš„æ¯”è¾ƒ.html-a9d989e3.js" as="script"><link rel="prefetch" href="/assets/pythonå­¦ä¹ è®°å½•.html-8841674e.js" as="script"><link rel="prefetch" href="/assets/index.html-3b8e7727.js" as="script"><link rel="prefetch" href="/assets/å†…å­˜åˆ†åŒºé—®é¢˜.html-85c8bd02.js" as="script"><link rel="prefetch" href="/assets/å‚è€ƒèµ„æ–™æ±‡æ€».html-8bc3d5bd.js" as="script"><link rel="prefetch" href="/assets/ç»“æ„ä½“å­—èŠ‚å¤§å°è®¡ç®—æ‰‹å†Œ.html-12a2f0ce.js" as="script"><link rel="prefetch" href="/assets/ç»¼åˆèµ„æ–™.html-ae88d9ca.js" as="script"><link rel="prefetch" href="/assets/index.html-65af008c.js" as="script"><link rel="prefetch" href="/assets/å¤§è¯æ•°æ®ç»“æ„å’Œç®—æ³•.html-e14ce945.js" as="script"><link rel="prefetch" href="/assets/index.html-8b226710.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹ä¸çº¿ç¨‹.html-64582975.js" as="script"><link rel="prefetch" href="/assets/IPv4å­¦ä¹ è®°å½•.html-58ff4c7e.js" as="script"><link rel="prefetch" href="/assets/IPåœ°å€è¯´æ˜.html-4e329233.js" as="script"><link rel="prefetch" href="/assets/index.html-048b1345.js" as="script"><link rel="prefetch" href="/assets/index.html-8d43775e.js" as="script"><link rel="prefetch" href="/assets/ç±»çš„å…³ç³»UMLå›¾.html-42290e71.js" as="script"><link rel="prefetch" href="/assets/è®¾è®¡æ¨¡å¼æ€»ç»“.html-65386c99.js" as="script"><link rel="prefetch" href="/assets/dockerè®°å½•.html-21def323.js" as="script"><link rel="prefetch" href="/assets/gitæäº¤å‘½ä»¤.html-8e79988c.js" as="script"><link rel="prefetch" href="/assets/index.html-1203c22e.js" as="script"><link rel="prefetch" href="/assets/tmuxä½¿ç”¨è®°å½•.html-18509a05.js" as="script"><link rel="prefetch" href="/assets/ä½¿ç”¨clashä»£ç†éœ€çŸ¥.html-31c20cd2.js" as="script"><link rel="prefetch" href="/assets/å…³äºcronå’Œanacron.html-1a802f6c.js" as="script"><link rel="prefetch" href="/assets/æ•°æ®åº“mysqlå¸¸ç”¨å‘½ä»¤.html-dcef07a8.js" as="script"><link rel="prefetch" href="/assets/ç»ˆç«¯ç¾åŒ–è®°å½•.html-cd5190ba.js" as="script"><link rel="prefetch" href="/assets/markdownä¹‹frontmatterè®¾ç½®.html-3b885be9.js" as="script"><link rel="prefetch" href="/assets/markdownåŸºæœ¬è§„åˆ™å­¦ä¹ ç¬”è®°.html-3306698f.js" as="script"><link rel="prefetch" href="/assets/index.html-387124b8.js" as="script"><link rel="prefetch" href="/assets/1__WebServerå­¦ä¹ ç¬”è®°æ±‡æ€».html-72117f24.js" as="script"><link rel="prefetch" href="/assets/2__å°æ—codingçš„WebServeré¢è¯•è€ƒç‚¹_ç‹¬ç«‹ç‰ˆæœ¬.html-a689fc68.js" as="script"><link rel="prefetch" href="/assets/3__Tinyç»¼åˆå­¦ä¹ _é—®ç­”é¢˜ç»¼åˆ_ç‹¬ç«‹ç‰ˆæœ¬.html-1cbe2f5f.js" as="script"><link rel="prefetch" href="/assets/index.html-da82e235.js" as="script"><link rel="prefetch" href="/assets/ä»£ç éšæƒ³å½•å­¦ä¹ ç¬”è®°_æ€»ç»“_.html-def43b7a.js" as="script"><link rel="prefetch" href="/assets/C__STLå¸¸ç”¨å®¹å™¨çŸ¥è¯†ç‚¹è¯´æ˜.html-a2c87516.js" as="script"><link rel="prefetch" href="/assets/gdbè°ƒè¯•æ‰‹å†Œ.html-e1e66ac1.js" as="script"><link rel="prefetch" href="/assets/index.html-99ec40a4.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹ä¸çº¿ç¨‹ç¬”è®°.html-27a9bdae.js" as="script"><link rel="prefetch" href="/assets/è¿›ç¨‹é—´é€šä¿¡å­¦ä¹ å†…å®¹.html-849da8bc.js" as="script"><link rel="prefetch" href="/assets/éƒ¨åˆ†æœ‰ç”¨ç½‘ç«™è®°å½•.html-82b409c3.js" as="script"><link rel="prefetch" href="/assets/index.html-4de4de6c.js" as="script"><link rel="prefetch" href="/assets/index.html-aa7d17f3.js" as="script"><link rel="prefetch" href="/assets/index.html-7005c79a.js" as="script"><link rel="prefetch" href="/assets/index.html-12d9e9f8.js" as="script"><link rel="prefetch" href="/assets/index.html-aefe17d6.js" as="script"><link rel="prefetch" href="/assets/index.html-40d27344.js" as="script"><link rel="prefetch" href="/assets/404.html-f4089c89.js" as="script"><link rel="prefetch" href="/assets/index.html-ae0df1bc.js" as="script"><link rel="prefetch" href="/assets/index.html-73c2740f.js" as="script"><link rel="prefetch" href="/assets/index.html-4540c1f3.js" as="script"><link rel="prefetch" href="/assets/index.html-bee6acac.js" as="script"><link rel="prefetch" href="/assets/index.html-ff9798bd.js" as="script"><link rel="prefetch" href="/assets/index.html-27dea863.js" as="script"><link rel="prefetch" href="/assets/index.html-3621cee8.js" as="script"><link rel="prefetch" href="/assets/index.html-1abc2fc4.js" as="script"><link rel="prefetch" href="/assets/index.html-0efc1941.js" as="script"><link rel="prefetch" href="/assets/index.html-9a4a9cb8.js" as="script"><link rel="prefetch" href="/assets/index.html-d8044145.js" as="script"><link rel="prefetch" href="/assets/index.html-1ddff557.js" as="script"><link rel="prefetch" href="/assets/index.html-6606fff1.js" as="script"><link rel="prefetch" href="/assets/index.html-79ee8eb8.js" as="script"><link rel="prefetch" href="/assets/index.html-83499417.js" as="script"><link rel="prefetch" href="/assets/index.html-eccaca47.js" as="script"><link rel="prefetch" href="/assets/index.html-e6ec9749.js" as="script"><link rel="prefetch" href="/assets/index.html-13270fee.js" as="script"><link rel="prefetch" href="/assets/index.html-47178326.js" as="script"><link rel="prefetch" href="/assets/index.html-917c11b9.js" as="script"><link rel="prefetch" href="/assets/index.html-6627f487.js" as="script"><link rel="prefetch" href="/assets/index.html-591c91bc.js" as="script"><link rel="prefetch" href="/assets/index.html-261d9c5b.js" as="script"><link rel="prefetch" href="/assets/index.html-2e422d17.js" as="script"><link rel="prefetch" href="/assets/index.html-498cd3ec.js" as="script"><link rel="prefetch" href="/assets/index.html-fc393400.js" as="script"><link rel="prefetch" href="/assets/index.html-0d9a25d0.js" as="script"><link rel="prefetch" href="/assets/index.html-ea0ff583.js" as="script"><link rel="prefetch" href="/assets/index.html-ef229e81.js" as="script"><link rel="prefetch" href="/assets/index.html-a00083d2.js" as="script"><link rel="prefetch" href="/assets/index.html-b845ce7a.js" as="script"><link rel="prefetch" href="/assets/dash.all.min-971bb768.js" as="script"><link rel="prefetch" href="/assets/mpegts-57a989ba.js" as="script"><link rel="prefetch" href="/assets/hls.min-dcc0ca18.js" as="script"><link rel="prefetch" href="/assets/artplayer-d52464c4.js" as="script"><link rel="prefetch" href="/assets/plyr.min-65d8b78a.js" as="script"><link rel="prefetch" href="/assets/plyr.min-65d8b78a.js" as="script"><link rel="prefetch" href="/assets/auto-fa8841cf.js" as="script"><link rel="prefetch" href="/assets/index-b03bef79.js" as="script"><link rel="prefetch" href="/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-11a48a09.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ab04f0b1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-0a52d59d.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-36cd6c3c.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar auto-hide" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/" class="brand"><img class="logo" src="/site_logo.png" alt="å¼€å¿ƒé…’é¦†"><!----><span class="site-name hide-in-pad">å¼€å¿ƒé…’é¦†</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/quicknav/" class="nav-link" aria-label="å¿«é€Ÿå¯¼èˆª"><span class="font-icon icon iconfont icon-navigation" style=""></span>å¿«é€Ÿå¯¼èˆª<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="font-icon icon iconfont icon-blog" style=""></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link active" aria-label="ä»£ç ç¬”è®°"><span class="font-icon icon iconfont icon-code" style=""></span>ä»£ç ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a href="/floatinglife/" class="nav-link" aria-label="æµ®ç”Ÿæ‚è®°"><span class="font-icon icon iconfont icon-note" style=""></span>æµ®ç”Ÿæ‚è®°<!----></a></div><div class="nav-item hide-in-mobile"><a href="/projects/" class="nav-link" aria-label="å¼€æºé¡¹ç›®"><span class="font-icon icon iconfont icon-free" style=""></span>å¼€æºé¡¹ç›®<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="èµ„æºå®åº“"><span class="title"><span class="font-icon icon iconfont icon-advance" style=""></span>èµ„æºå®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/resources/books/" class="nav-link" aria-label="ä¹¦ç±èµ„æº"><span class="font-icon icon iconfont icon-animation" style=""></span>ä¹¦ç±èµ„æº<!----></a></li><li class="dropdown-item"><a href="/resources/videos/" class="nav-link" aria-label="å½±éŸ³èµ„æº"><span class="font-icon icon iconfont icon-play" style=""></span>å½±éŸ³èµ„æº<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/visitorbook.html" class="nav-link" aria-label="ç•™è¨€æ¿"><span class="font-icon icon iconfont icon-mark" style=""></span>ç•™è¨€æ¿<!----></a></div><div class="nav-item hide-in-mobile"><a href="/control/" class="nav-link" aria-label="ç®¡ç†å‘˜å¹³å°"><span class="font-icon icon iconfont icon-operate" style=""></span>ç®¡ç†å‘˜å¹³å°<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/XiaoYuer2022" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢æœ¬ç«™" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-c" style=""></span><span class="title">ç¼–ç¨‹è¯­è¨€åŸºç¡€</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/ALL_c__%E5%85%A8%E9%9D%A2%E6%80%BB%E7%BB%93.html" class="nav-link sidebar-link sidebar-page" aria-label="ALL_C++å…¨é¢æ€»ç»“"><span class="font-icon icon iconfont icon-write" style=""></span>ALL_C++å…¨é¢æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="C++éƒ¨åˆ†å†…å®¹(æ¥æºäºç‰›å®¢ï¼Œè‡ªå·±å¢åŠ )"><span class="font-icon icon iconfont icon-write" style=""></span>C++éƒ¨åˆ†å†…å®¹(æ¥æºäºç‰›å®¢ï¼Œè‡ªå·±å¢åŠ )<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#c-åŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="C++åŸºç¡€"><!---->C++åŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è™šå‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. è™šå‡½æ•°"><!---->1. è™šå‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2-æŒ‡é’ˆçš„ç†è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. æŒ‡é’ˆçš„ç†è§£"><!---->2. æŒ‡é’ˆçš„ç†è§£<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_3-mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«"><!---->3. mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_4-æ™ºèƒ½æŒ‡é’ˆ-å¼±æŒ‡é’ˆä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. æ™ºèƒ½æŒ‡é’ˆï¼Œå¼±æŒ‡é’ˆä½œç”¨"><!---->4. æ™ºèƒ½æŒ‡é’ˆï¼Œå¼±æŒ‡é’ˆä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_5-p-çš„é—´éš”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. *p++çš„é—´éš”"><!---->5. *p++çš„é—´éš”<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_6-æŒ‡é’ˆä¸ºnull-è®¿é—®ä¼šæ€æ ·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. æŒ‡é’ˆä¸ºNULLï¼Œè®¿é—®ä¼šæ€æ ·"><!---->6. æŒ‡é’ˆä¸ºNULLï¼Œè®¿é—®ä¼šæ€æ ·<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_7-const-int-på’Œint-const-pçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. const int *på’Œint * const pçš„åŒºåˆ«"><!---->7. const int *på’Œint * const pçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_8-c-join-detach" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8. C++ join detach"><!---->8. C++ join detach<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_9-c-11æ–°ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9. C++ 11æ–°ç‰¹æ€§"><!---->9. C++ 11æ–°ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_10-åŒ¿åå‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10. åŒ¿åå‡½æ•°"><!---->10. åŒ¿åå‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_11-ç±»å†…é»˜è®¤çš„å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="11. ç±»å†…é»˜è®¤çš„å‡½æ•°"><!---->11. ç±»å†…é»˜è®¤çš„å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_12-ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="12. ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°"><!---->12. ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_13-æ·±æµ…æ‹·è´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="13. æ·±æµ…æ‹·è´"><!---->13. æ·±æµ…æ‹·è´<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_14-stlå®¹å™¨åº•å±‚å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14. stlå®¹å™¨åº•å±‚å®ç°"><!---->14. stlå®¹å™¨åº•å±‚å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_15-unordered-mapå’ŒmapåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="15. unordered_mapå’ŒmapåŒºåˆ«"><!---->15. unordered_mapå’ŒmapåŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_16-é”çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="16. é”çš„ä½œç”¨"><!---->16. é”çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_17-lock-guardçš„ç”¨æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="17. lock_guardçš„ç”¨æ³•"><!---->17. lock_guardçš„ç”¨æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#æ“ä½œç³»ç»Ÿ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«"><!---->1. è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2-ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“"><!---->2. ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#æ•°æ®ç»“æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µ-ç‰¹æ€§-æ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²-å¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µï¼Œç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²ï¼Œå¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—"><!---->1. çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µï¼Œç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²ï¼Œå¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#ç®—æ³•é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç®—æ³•é¢˜"><!---->ç®—æ³•é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹-åŒæŒ‡é’ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒæŒ‡é’ˆï¼‰"><!---->1. è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒæŒ‡é’ˆï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#å‰è¨€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‰è¨€"><!---->å‰è¨€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1ã€unique-ptr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€unique_ptr"><!---->1ã€unique_ptr<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2ã€auto-ptr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€auto_ptr"><!---->2ã€auto_ptr<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_3ã€shared-ptr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€shared_ptr"><!---->3ã€shared_ptr<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_4ã€weak-ptr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4ã€weak_ptr"><!---->4ã€weak_ptr<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#weak-ptræŒ‡é’ˆçš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="weak_ptræŒ‡é’ˆçš„ä½œç”¨"><!---->weak_ptræŒ‡é’ˆçš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ"><!---->5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_6ã€auto-ptrå­˜åœ¨çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6ã€auto_ptrå­˜åœ¨çš„é—®é¢˜"><!---->6ã€auto_ptrå­˜åœ¨çš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E5%A4%8D%E4%B9%A0%E6%80%BB%E6%94%BB%E7%95%A5.html" class="nav-link sidebar-link sidebar-page" aria-label="c++å¤ä¹ æ€»æ”»ç•¥.md"><span class="font-icon icon iconfont icon-write" style=""></span>c++å¤ä¹ æ€»æ”»ç•¥.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E6%8C%87%E9%92%88%E4%B8%8E%E5%B8%B8%E9%87%8F%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%93%E9%A1%B9%E8%AF%B4%E6%98%8E.html" class="nav-link sidebar-link sidebar-page" aria-label="C++æŒ‡é’ˆä¸å¸¸é‡çŸ¥è¯†ç‚¹ä¸“é¡¹è¯´æ˜"><span class="font-icon icon iconfont icon-write" style=""></span>C++æŒ‡é’ˆä¸å¸¸é‡çŸ¥è¯†ç‚¹ä¸“é¡¹è¯´æ˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c%E5%92%8Cc__%E7%9A%84%E6%AF%94%E8%BE%83.html" class="nav-link sidebar-link sidebar-page" aria-label="Cå’ŒC++çš„æ¯”è¾ƒ"><span class="font-icon icon iconfont icon-write" style=""></span>Cå’ŒC++çš„æ¯”è¾ƒ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/C%E5%92%8CC__%E5%AD%A6%E4%B9%A0%E6%80%9D%E8%B7%AF.html" class="nav-link sidebar-link sidebar-page" aria-label="Cå’ŒC++å­¦ä¹ æ€è·¯"><span class="font-icon icon iconfont icon-write" style=""></span>Cå’ŒC++å­¦ä¹ æ€è·¯<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c%E5%92%8Cc__%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E5%A4%A7%E6%B1%87%E6%80%BB.html" class="nav-link sidebar-link sidebar-page" aria-label="Cå’ŒC++å­—ç¬¦ä¸²å¤„ç†å‡½æ•°å¤§æ±‡æ€»"><span class="font-icon icon iconfont icon-write" style=""></span>Cå’ŒC++å­—ç¬¦ä¸²å¤„ç†å‡½æ•°å¤§æ±‡æ€»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/python%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95.html" class="nav-link sidebar-link sidebar-page" aria-label="Pythonå­¦ä¹ è®°å½•"><span class="font-icon icon iconfont icon-write" style=""></span>Pythonå­¦ä¹ è®°å½•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%E6%B1%87%E6%80%BB.html" class="nav-link sidebar-link sidebar-page" aria-label="å‚è€ƒèµ„æ–™æ±‡æ€»"><span class="font-icon icon iconfont icon-write" style=""></span>å‚è€ƒèµ„æ–™æ±‡æ€»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA%E9%97%AE%E9%A2%98.html" class="nav-link sidebar-link sidebar-page" aria-label="å†…å­˜åˆ†åŒºé—®é¢˜"><span class="font-icon icon iconfont icon-write" style=""></span>å†…å­˜åˆ†åŒºé—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E8%8A%82%E5%A4%A7%E5%B0%8F%E8%AE%A1%E7%AE%97%E6%89%8B%E5%86%8C.html" class="nav-link sidebar-link sidebar-page" aria-label="ç»“æ„ä½“å­—èŠ‚å¤§å°è®¡ç®—æ‰‹å†Œ"><span class="font-icon icon iconfont icon-write" style=""></span>ç»“æ„ä½“å­—èŠ‚å¤§å°è®¡ç®—æ‰‹å†Œ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/%E7%BB%BC%E5%90%88%E8%B5%84%E6%96%99.html" class="nav-link sidebar-link sidebar-page" aria-label="ç»¼åˆèµ„æ–™"><span class="font-icon icon iconfont icon-write" style=""></span>ç»¼åˆèµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-engine" style=""></span><span class="title">æ•°æ®ç»“æ„ä¸ç®—æ³•</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-frame" style=""></span><span class="title">æ“ä½œç³»ç»Ÿä¸è®¡ç®—æœºåŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-ability" style=""></span><span class="title">è®¡ç®—æœºç½‘ç»œ</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-mysql" style=""></span><span class="title">è®¾è®¡æ¨¡å¼</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">æ‰¾å·¥ä½œç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="title">Linuxè¿è¡Œç»´æŠ¤ç›¸å…³</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-read" style=""></span><span class="title">MarkDownä¹¦å†™è§„åˆ™</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-read" style=""></span><span class="title">æœªåˆ†ç±»</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://haoxx.top/" target="_blank" rel="noopener noreferrer">Mr.HaoXX</a></span><span property="author" content="Mr.HaoXX"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-10-30T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 24 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT24M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">1ç¼–ç¨‹è¯­è¨€åŸºç¡€</span><!--]--><meta property="articleSection" content="1ç¼–ç¨‹è¯­è¨€åŸºç¡€"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#c-åŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">C++åŸºç¡€</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è™šå‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">1. è™šå‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2-æŒ‡é’ˆçš„ç†è§£" class="router-link-active router-link-exact-active toc-link level3">2. æŒ‡é’ˆçš„ç†è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_3-mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">3. mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_4-æ™ºèƒ½æŒ‡é’ˆ-å¼±æŒ‡é’ˆä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">4. æ™ºèƒ½æŒ‡é’ˆï¼Œå¼±æŒ‡é’ˆä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_5-p-çš„é—´éš”" class="router-link-active router-link-exact-active toc-link level3">5. *p++çš„é—´éš”</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_6-æŒ‡é’ˆä¸ºnull-è®¿é—®ä¼šæ€æ ·" class="router-link-active router-link-exact-active toc-link level3">6. æŒ‡é’ˆä¸ºNULLï¼Œè®¿é—®ä¼šæ€æ ·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_7-const-int-på’Œint-const-pçš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">7. const int *på’Œint * const pçš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_8-c-join-detach" class="router-link-active router-link-exact-active toc-link level3">8. C++ join detach</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_9-c-11æ–°ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level3">9. C++ 11æ–°ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_10-åŒ¿åå‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">10. åŒ¿åå‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_11-ç±»å†…é»˜è®¤çš„å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">11. ç±»å†…é»˜è®¤çš„å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_12-ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">12. ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_13-æ·±æµ…æ‹·è´" class="router-link-active router-link-exact-active toc-link level3">13. æ·±æµ…æ‹·è´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_14-stlå®¹å™¨åº•å±‚å®ç°" class="router-link-active router-link-exact-active toc-link level3">14. stlå®¹å™¨åº•å±‚å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_15-unordered-mapå’ŒmapåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">15. unordered_mapå’ŒmapåŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_16-é”çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">16. é”çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_17-lock-guardçš„ç”¨æ³•" class="router-link-active router-link-exact-active toc-link level3">17. lock_guardçš„ç”¨æ³•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#æ“ä½œç³»ç»Ÿ" class="router-link-active router-link-exact-active toc-link level2">æ“ä½œç³»ç»Ÿ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">1. è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2-ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“" class="router-link-active router-link-exact-active toc-link level3">2. ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#æ•°æ®ç»“æ„" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®ç»“æ„</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µ-ç‰¹æ€§-æ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²-å¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—" class="router-link-active router-link-exact-active toc-link level3">1. çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µï¼Œç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²ï¼Œå¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#ç®—æ³•é¢˜" class="router-link-active router-link-exact-active toc-link level2">ç®—æ³•é¢˜</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1-è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹-åŒæŒ‡é’ˆ" class="router-link-active router-link-exact-active toc-link level3">1. è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒæŒ‡é’ˆï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#å‰è¨€" class="router-link-active router-link-exact-active toc-link level2">å‰è¨€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_1ã€unique-ptr" class="router-link-active router-link-exact-active toc-link level2">1ã€unique_ptr</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_2ã€auto-ptr" class="router-link-active router-link-exact-active toc-link level2">2ã€auto_ptr</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_3ã€shared-ptr" class="router-link-active router-link-exact-active toc-link level2">3ã€shared_ptr</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_4ã€weak-ptr" class="router-link-active router-link-exact-active toc-link level2">4ã€weak_ptr</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#weak-ptræŒ‡é’ˆçš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">weak_ptræŒ‡é’ˆçš„ä½œç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ" class="router-link-active router-link-exact-active toc-link level2">5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9(%E6%9D%A5%E6%BA%90%E4%BA%8E%E7%89%9B%E5%AE%A2%EF%BC%8C%E8%87%AA%E5%B7%B1%E5%A2%9E%E5%8A%A0).html#_6ã€auto-ptrå­˜åœ¨çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">6ã€auto_ptrå­˜åœ¨çš„é—®é¢˜</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>C++æ–¹é¢çš„éƒ¨åˆ†å†…å®¹</p></div><!-- more --><h2 id="c-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#c-åŸºç¡€" aria-hidden="true">#</a> C++åŸºç¡€</h2><h3 id="_1-è™šå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_1-è™šå‡½æ•°" aria-hidden="true">#</a> 1. è™šå‡½æ•°</h3><h3 id="_2-æŒ‡é’ˆçš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#_2-æŒ‡é’ˆçš„ç†è§£" aria-hidden="true">#</a> 2. æŒ‡é’ˆçš„ç†è§£</h3><h3 id="_3-mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_3-mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«" aria-hidden="true">#</a> 3. mallocå’Œnewçš„åŸºæœ¬æ¦‚å¿µä»¥åŠåŒºåˆ«</h3><p><a href="https://blog.csdn.net/weixin_43899008/article/details/123261412" target="_blank" rel="noopener noreferrer">csdnèµ„æ–™<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸€ã€å±æ€§æ–¹é¢ï¼Œmallocæ˜¯åº“å‡½æ•°ï¼Œéœ€è¦å¤´æ–‡ä»¶æ”¯æŒï¼Œnewæ˜¯è¿ç®—ç¬¦ï¼Œéœ€è¦ç¼–è¯‘å™¨æ”¯æŒã€‚ äºŒã€å‚æ•°æ–¹é¢ï¼Œnewæ— éœ€æŒ‡å®šå†…å­˜å¤§å°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªè¡Œè®¡ç®—ï¼›mallocéœ€è¦æŒ‡å®šå†…å­˜å¤§å°ã€‚è€Œä¸”newä¼šè°ƒç”¨æ„é€ å‡½æ•°ã€‚ ä¸‰ã€å¤„ç†æ•°ç»„æ–¹é¢ï¼Œnewä½¿ç”¨new[]ï¼Œå¹¶ä½¿ç”¨delete[]è¿›è¡Œé‡Šæ”¾ï¼Œmallocéœ€è¦æ‰‹åŠ¨å®šä¹‰æ•°ç»„å¤§å°ï¼Œå¹¶ç”¨freeé‡Šæ”¾å†…å­˜ã€‚ å››ã€è¿”å›ç±»å‹ï¼Œmallocè¿”å›å€¼æ˜¯void*æŒ‡é’ˆï¼Œä½¿ç”¨å‰éœ€è¦æ˜¾å¼åœ°æŒ‡å®šä¸ºéœ€è¦çš„æŒ‡é’ˆç±»å‹ã€‚newåˆ†é…æˆåŠŸè¿”å›çš„æ˜¯å¯¹è±¡ç±»å‹æŒ‡é’ˆï¼Œä¸å¯¹è±¡ä¸¥æ ¼åŒ¹é…ï¼Œæ— ç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥newæ˜¯ç¬¦åˆç±»å‹å®‰å…¨æ€§æ“ä½œç¬¦ã€‚ äº”ã€å†…å­˜åˆ†é…æ–¹é¢ï¼Œnewå†…å­˜åˆ†é…å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºbad_allocå¼‚å¸¸ï¼Œmallocåˆ†é…å†…å­˜å¤±è´¥æ—¶è¿”å›NULLã€‚ å…­ã€è‡ªå®šä¹‰ç±»å‹æ–¹é¢ï¼Œnewä¼šå…ˆè°ƒç”¨operator newå‡½æ•°ï¼Œç”³è¯·è¶³å¤Ÿçš„å†…å­˜ï¼Œç„¶åè°ƒç”¨ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œæœ€åè¿”å›è‡ªå®šä¹‰ç±»å‹æŒ‡é’ˆã€‚deleteå°±æ˜¯åç€æ¥ï¼Œå…ˆè°ƒç”¨ææ„å‡½æ•°ï¼Œç„¶åoperator deleteå‡½æ•°é‡Šæ”¾å†…å­˜ã€‚mallocæ˜¯åº“å‡½æ•°ï¼Œåªèƒ½åŠ¨æ€åœ°ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ï¼Œæ— æ³•å¼ºåˆ¶è¦æ±‚å…¶åšè‡ªå®šä¹‰ç±»å‹å¯¹è±¡æ„é€ å’Œææ„å‡½æ•°ã€‚ ä¸ƒã€newå¯ä»¥é‡è½½ï¼Œmallocä¸å¯ä»¥ å…«ã€newåœ¨è‡ªç”±å‚¨å­˜åŒºåˆ†é…å†…å­˜ï¼Œmallocåœ¨å †ä¸Šåˆ†é…å†…å­˜ã€‚ ä¹ã€å†…å­˜æ³„æ¼æ–¹é¢ï¼Œå†…å­˜æ³„æ¼å¯¹äºnewå’Œmallocéƒ½èƒ½æ£€æµ‹å‡ºæ¥ï¼Œnewå¯ä»¥æ˜ç¡®æŒ‡å‡ºæ˜¯å“ªä¸ªæ–‡ä»¶çš„å“ªä¸€è¡Œï¼Œä½†æ˜¯mallocä¸å¯ä»¥æ˜ç¡®æŒ‡å‡ºæ˜¯å“ªä¸ªæ–‡ä»¶çš„å“ªä¸€è¡Œã€‚ åã€æ•ˆç‡æ–¹é¢ï¼Œnewæ˜¯å…³é”®å­—ï¼Œmallocæ˜¯åº“å‡½æ•°ï¼Œnewæ•ˆç‡æ›´é«˜ã€‚</p><figure><img src="https://s3.bmp.ovh/imgs/2022/08/28/6c46c39176ca9029.png" alt="å›¾1" tabindex="0" loading="lazy"><figcaption>å›¾1</figcaption></figure><h3 id="_4-æ™ºèƒ½æŒ‡é’ˆ-å¼±æŒ‡é’ˆä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_4-æ™ºèƒ½æŒ‡é’ˆ-å¼±æŒ‡é’ˆä½œç”¨" aria-hidden="true">#</a> 4. æ™ºèƒ½æŒ‡é’ˆï¼Œå¼±æŒ‡é’ˆä½œç”¨</h3><h3 id="_5-p-çš„é—´éš”" tabindex="-1"><a class="header-anchor" href="#_5-p-çš„é—´éš”" aria-hidden="true">#</a> 5. *p++çš„é—´éš”</h3><h3 id="_6-æŒ‡é’ˆä¸ºnull-è®¿é—®ä¼šæ€æ ·" tabindex="-1"><a class="header-anchor" href="#_6-æŒ‡é’ˆä¸ºnull-è®¿é—®ä¼šæ€æ ·" aria-hidden="true">#</a> 6. æŒ‡é’ˆä¸ºNULLï¼Œè®¿é—®ä¼šæ€æ ·</h3><p>ç®€å•è¯´ä¸€ä¸‹ï¼Œcçš„NULLæ˜¯å®å®šä¹‰ï¼Œä¸ºvoid*ï¼Œè€Œcppçš„NULLå®å®šä¹‰ä¸º0ã€‚cppå¸¸ç”¨nullptræ¥ç»™æŒ‡é’ˆèµ‹åˆå€¼ã€‚nullptrçš„å€¼ä¸ºvoid*ã€‚</p><p>å¯ä»¥ç»™æŒ‡é’ˆèµ‹åˆå§‹å€¼ä¸ºNULLï¼Œä½†æ˜¯ä¸å¯ä»¥è®¿é—®ã€‚å†…å­˜åœ°å€ä¸º0çš„åŒºåŸŸæ˜¯ç”¨æˆ·åº”ç”¨ç¨‹åºè®¿é—®çš„ç¦åŒºï¼Œä¸€æ—¦è®¿é—®å°±ä¼šæ®µé”™è¯¯ã€‚</p><h3 id="_7-const-int-på’Œint-const-pçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_7-const-int-på’Œint-const-pçš„åŒºåˆ«" aria-hidden="true">#</a> 7. const int *på’Œint * const pçš„åŒºåˆ«</h3><p>å¸¸é‡æŒ‡é’ˆå’ŒæŒ‡é’ˆå¸¸é‡ã€‚å‰è€…æœ¬è´¨ä¸ºæŒ‡é’ˆï¼Œåªæ˜¯æŒ‡é’ˆæŒ‡å‘å†…å­˜åŒºåŸŸé‡Œå­˜æ”¾çš„æ•°æ®ä¸ºå¸¸é‡ï¼Œæ‰€ä»¥å¸¸é‡æŒ‡é’ˆï¼šæŒ‡å‘çš„åŒºåŸŸå¯ä»¥æ›´æ”¹ï¼ŒæŒ‡å‘çš„å†…å®¹ä¸å¯ä»¥æ›´æ”¹ï¼›åè€…æœ¬è´¨ä¸ºå¸¸é‡ï¼Œåªæ˜¯å¸¸é‡é‡Œè£…çš„æ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥æŒ‡é’ˆæŒ‡å‘ä¸èƒ½æ”¹ï¼ŒæŒ‡å‘çš„å†…å®¹å¯ä»¥æ›´æ”¹ã€‚</p><h3 id="_8-c-join-detach" tabindex="-1"><a class="header-anchor" href="#_8-c-join-detach" aria-hidden="true">#</a> 8. C++ join detach</h3><p>pthread_join()æ˜¯åœ¨çˆ¶çº¿ç¨‹ä¸­è°ƒç”¨ï¼Œç­‰å­çº¿ç¨‹è¿è¡Œå®Œåé€šçŸ¥å­çº¿ç¨‹ï¼Œç„¶åçˆ¶çº¿ç¨‹å›æ”¶å­çº¿ç¨‹èµ„æºã€‚pthread_detach()æ˜¯åœ¨å­çº¿ç¨‹ä¸­è°ƒç”¨ï¼Œæ˜¯å­çº¿ç¨‹è„±ç¦»çˆ¶çº¿ç¨‹ï¼Œå­çº¿ç¨‹è¿è¡Œå®Œåç”±ç³»ç»Ÿå›æ”¶èµ„æºã€‚</p><h3 id="_9-c-11æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_9-c-11æ–°ç‰¹æ€§" aria-hidden="true">#</a> 9. <!----></h3><p>å†…å®¹å‚è€ƒäº<a href="https://blog.csdn.net/dnty00/article/details/126171485" target="_blank" rel="noopener noreferrer">csdn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸€ã€cppæ–°ç‰¹æ€§ cppæ–°ç‰¹æ€§ä¸»è¦åŒ…æ‹¬åŒ…å«è¯­æ³•æ”¹è¿›å’Œæ ‡å‡†åº“æ‰©å……ä¸¤ä¸ªæ–¹é¢ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹11ç‚¹ 1ã€è¯­æ³•çš„æ”¹è¿› 1ï¼‰ç»Ÿä¸€çš„åˆå§‹åŒ–æ–¹æ³• åœ¨ cpp11 ä¸­ï¼Œå¯ä»¥ç›´æ¥åœ¨å˜é‡ååé¢è·Ÿä¸Šåˆå§‹åŒ–åˆ—è¡¨ï¼Œæ¥è¿›è¡Œå¯¹è±¡çš„åˆå§‹åŒ– 2ï¼‰æˆå‘˜å˜é‡é»˜è®¤åˆå§‹åŒ– 3ï¼‰autoå…³é”®å­—ç”¨äºå®šä¹‰å˜é‡ï¼Œç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨åˆ¤æ–­çš„ç±»å‹ï¼ˆå‰æï¼šå®šä¹‰ä¸€ä¸ªå˜é‡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼‰ 4ï¼‰decltype æ±‚è¡¨è¾¾å¼çš„ç±»å‹ 5ï¼‰æ™ºèƒ½æŒ‡é’ˆ shared_ptr</p><p>å’Œ unique_ptrã€weak_ptr ä¸åŒä¹‹å¤„åœ¨äºï¼Œå¤šä¸ª shared_ptr æ™ºèƒ½æŒ‡é’ˆå¯ä»¥å…±åŒä½¿ç”¨åŒä¸€å—å †å†…å­˜ã€‚å¹¶ä¸”ï¼Œç”±äºè¯¥ç±»å‹æ™ºèƒ½æŒ‡é’ˆåœ¨å®ç°ä¸Šé‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼Œå³ä¾¿æœ‰ä¸€ä¸ª shared_ptr æŒ‡é’ˆæ”¾å¼ƒäº†å †å†…å­˜çš„â€œä½¿ç”¨æƒâ€ï¼ˆå¼•ç”¨è®¡æ•°å‡ 1ï¼‰ï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–æŒ‡å‘åŒä¸€å †å†…å­˜çš„ shared_ptr æŒ‡é’ˆï¼ˆåªæœ‰å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶ï¼Œå †å†…å­˜æ‰ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ï¼‰ 6ï¼‰ç©ºæŒ‡é’ˆ nullptrï¼ˆåŸæ¥NULLï¼‰ 7ï¼‰åŸºäºèŒƒå›´çš„forå¾ªç¯ 8ï¼‰å³å€¼å¼•ç”¨å’Œmoveè¯­ä¹‰</p><ul><li>å³å€¼å¼•ç”¨</li></ul><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token comment">//å·¦å€¼å¼•ç”¨</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">&amp;</span>b <span class="token operator">=</span> num<span class="token punctuation">;</span>  <span class="token comment">//æ­£ç¡®</span>
<span class="token keyword">int</span> <span class="token operator">&amp;</span>c <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   <span class="token comment">//é”™è¯¯ï¼Œåœ¨cpp98/03æ ‡å‡†ä¸­ï¼Œæ— æ³•ä¸ºå³å€¼æ·»åŠ å¼•ç”¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…å¼€å‘ä¸­å¯èƒ½éœ€è¦å¯¹å³å€¼è¿›è¡Œä¿®æ”¹ï¼ˆå®ç°ç§»åŠ¨è¯­ä¹‰æ—¶å°±éœ€è¦ï¼‰ï¼Œæ˜¾ç„¶å·¦å€¼å¼•ç”¨çš„æ–¹å¼æ˜¯è¡Œä¸é€šçš„ã€‚ä¸ºæ­¤ï¼Œcpp11 æ ‡å‡†æ–°å¼•å…¥äº†å¦ä¸€ç§å¼•ç”¨æ–¹å¼ï¼Œç§°ä¸ºå³å€¼å¼•ç”¨ï¼Œç”¨ â€œ&amp;&amp;â€ è¡¨ç¤ºã€‚</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//int &amp;&amp; a = num;  //å³å€¼å¼•ç”¨ä¸èƒ½åˆå§‹åŒ–ä¸ºå·¦å€¼</span>
<span class="token keyword">int</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>moveè¯­ä¹‰</li></ul><p>åœ¨cpp11ä¸­ï¼Œæ ‡å‡†åº“åœ¨ä¸­æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„å‡½æ•°std::moveï¼Œstd::move()å‡½æ•°å¹¶ä¸èƒ½ç§»åŠ¨ä»»ä½•ä¸œè¥¿ï¼Œå®ƒå”¯ä¸€çš„åŠŸèƒ½æ˜¯å°†ä¸€ä¸ªå·¦å€¼å¼•ç”¨å¼ºåˆ¶è½¬åŒ–ä¸ºå³å€¼å¼•ç”¨ï¼Œç»§è€Œå¯ä»¥é€šè¿‡å³å€¼å¼•ç”¨ä½¿ç”¨è¯¥å€¼ï¼Œä»¥ç”¨äºç§»åŠ¨è¯­ä¹‰ã€‚ä»å®ç°ä¸Šè®²ï¼Œstd::moveåŸºæœ¬ç­‰åŒäºä¸€ä¸ªç±»å‹è½¬æ¢ï¼šstatic_cast&lt;T&amp;&amp;&gt;(lvalue);</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token function">move</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span> <span class="token comment">//å…¶ä¸­ï¼Œarg è¡¨ç¤ºæŒ‡å®šçš„å·¦å€¼å¯¹è±¡ã€‚è¯¥å‡½æ•°ä¼šè¿”å› arg å¯¹è±¡çš„å³å€¼å½¢å¼ã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2ã€æ ‡å‡†æ¨¡æ¿åº“çš„æ‰©å……ï¼ˆå¾€STLé‡Œé¢æ·»åŠ äº†ä¸€äº›æ¨¡æ¿ç±»ï¼Œæ¯”è¾ƒå¥½ç”¨ï¼‰ 9ï¼‰æ— åºå®¹å™¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰ ç”¨æ³•å’ŒåŠŸèƒ½åŒmapä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºå“ˆå¸Œè¡¨çš„æ•ˆç‡æ›´é«˜ 10ï¼‰æ­£åˆ™è¡¨è¾¾å¼ å¯ä»¥è®¤ä¸ºæ­£åˆ™è¡¨è¾¾å¼å®è´¨ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æè¿°äº†ä¸€ç§ç‰¹å®šæ¨¡å¼çš„å­—ç¬¦ä¸² 11ï¼‰Lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå‡½æ•°ï¼‰ lambdaè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç”¨äºå®šä¹‰å¹¶åˆ›å»ºåŒ¿åçš„å‡½æ•°å¯¹è±¡ï¼Œä»¥ç®€åŒ–ç¼–ç¨‹å·¥ä½œã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">;</span>
 <span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ—§å¼</span>
 <span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Lambdaè¡¨è¾¾å¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å£°æ˜lambdaè¡¨è¾¾å¼ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token punctuation">[</span>capture list<span class="token punctuation">]</span> <span class="token punctuation">(</span>params list<span class="token punctuation">)</span> <span class="token keyword">mutable</span> exception<span class="token operator">-&gt;</span> <span class="token keyword">return</span> type <span class="token punctuation">{</span> function body <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>capture listï¼šæ•è·å¤–éƒ¨å˜é‡åˆ—è¡¨</li><li>params listï¼šå½¢å‚åˆ—è¡¨</li><li>mutableæŒ‡ç¤ºç¬¦ï¼šç”¨æ¥è¯´ç”¨æ˜¯å¦å¯ä»¥ä¿®æ”¹æ•è·çš„å˜é‡</li><li>exceptionï¼šå¼‚å¸¸è®¾å®š</li><li>return typeï¼šè¿”å›ç±»å‹</li><li>function bodyï¼šå‡½æ•°ä½“</li></ul><p>äºŒã€æ™ºèƒ½æŒ‡é’ˆ</p><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</strong>ï¼š</p><p>æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨æ˜¯ç®¡ç†ä¸€ä¸ªæŒ‡é’ˆï¼Œå› ä¸ºå­˜åœ¨ç”³è¯·çš„ç©ºé—´åœ¨å‡½æ•°ç»“æŸæ—¶å¿˜è®°é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼çš„æƒ…å†µã€‚ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ™ºèƒ½æŒ‡é’ˆå°±æ˜¯ä¸€ä¸ªç±»ï¼Œå½“è¶…å‡ºäº†ç±»çš„ä½œç”¨åŸŸæ—¶ï¼Œç±»ä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚æ‰€ä»¥<strong>æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨åŸç†å°±æ˜¯åœ¨å‡½æ•°ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ç©ºé—´</strong>ã€‚ æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨ï¼šå¤„ç†å†…å­˜æ³„æ¼é—®é¢˜å’Œç©ºæ‚¬æŒ‡é’ˆé—®é¢˜ã€‚</p><p>cppä¸­çš„æ™ºèƒ½æŒ‡é’ˆæœ‰4ç§ï¼Œåˆ†åˆ«ä¸ºï¼šshared_ptrã€unique_ptrã€weak_ptrã€auto_ptrï¼Œå…¶ä¸­auto_ptrè¢«cpp11å¼ƒç”¨ã€‚</p><ul><li><p>å¯¹äºshared_ptrï¼Œå¯è§£å†³èµ„æºå¿˜è®°é‡Šæ”¾çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼ŒåŠæ‚¬ç©ºæŒ‡é’ˆé—®é¢˜ã€‚ *shared_ptrå®ç°å…±äº«å¼æ‹¥æœ‰çš„æ¦‚å¿µï¼Œå¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æŒ‡å‘ç›¸åŒå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å’Œå…¶ç›¸å…³èµ„æºä¼šåœ¨â€œæœ€åä¸€ä¸ªå¼•ç”¨è¢«é”€æ¯â€æ—¶å€™é‡Šæ”¾ã€‚ä»åå­—shareå°±å¯ä»¥çœ‹å‡ºäº†èµ„æºå¯ä»¥è¢«å¤šä¸ªæŒ‡é’ˆå…±äº«ï¼Œå®ƒä½¿ç”¨è®¡æ•°æœºåˆ¶æ¥è¡¨æ˜èµ„æºè¢«å‡ ä¸ªæŒ‡é’ˆå…±äº«ã€‚</p></li><li><p>å¯¹äºunique_ptrï¼Œå¯¹è±¡å¯¹å…¶æœ‰å”¯ä¸€æ‰€æœ‰æƒã€‚ unique_ptrå®ç°ç‹¬å å¼æ‹¥æœ‰çš„æ¦‚å¿µï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æŒ‡å‘è¯¥å¯¹è±¡ï¼Œå®ƒå¯¹äºé¿å…èµ„æºæ³„éœ²ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œæ‹·è´æ„é€ å’Œæ‹·è´èµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥è¿›è¡Œç§»åŠ¨æ„é€ å’Œç§»åŠ¨èµ‹å€¼ã€‚</p></li><li><p>å¯¹äºweak_ptrï¼Œå’Œ shared_ptr æ­é…ï¼Œä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œç”¨äºé¿å…å¾ªç¯å¼•ç”¨ï¼ˆæ¯”å¦‚ a å¯¹è±¡æŒæœ‰ b å¯¹è±¡ï¼Œb å¯¹è±¡æŒæœ‰ a å¯¹è±¡ï¼‰ï¼Œè¿™æ ·å¿…ç„¶ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚ è§£å†³shared_ptrç›¸äº’å¼•ç”¨æ—¶ï¼Œä¸¤ä¸ªæŒ‡é’ˆçš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¼šä¸‹é™ä¸º0ï¼Œä»è€Œå¯¼è‡´æ­»é”é—®é¢˜ã€‚è€Œweak_ptræ˜¯å¯¹å¯¹è±¡çš„ä¸€ç§å¼±å¼•ç”¨ï¼Œå¯ä»¥ç»‘å®šåˆ°shared_ptrï¼Œä½†ä¸ä¼šå¢åŠ å¯¹è±¡çš„å¼•ç”¨è®¡æ•°</p></li><li><p>å¯¹äºauto_ptrï¼Œå®ç°ç‹¬å å¼æ‹¥æœ‰çš„æ¦‚å¿µï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æŒ‡å‘è¯¥å¯¹è±¡ï¼›ä½†auto_ptråœ¨cpp11ä¸­è¢«æ‘’å¼ƒï¼Œå…¶ä¸»è¦é—®é¢˜åœ¨äºï¼š 1ï¼‰å¯¹è±¡æ‰€æœ‰æƒçš„è½¬ç§»ï¼Œæ¯”å¦‚åœ¨å‡½æ•°ä¼ å‚è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡æ‰€æœ‰æƒä¸ä¼šè¿”è¿˜ï¼Œä»è€Œå­˜åœ¨æ½œåœ¨çš„å†…å­˜å´©æºƒé—®é¢˜ï¼› 2ï¼‰ä¸èƒ½æŒ‡å‘æ•°ç»„ï¼Œä¹Ÿä¸èƒ½ä½œä¸ºSTLå®¹å™¨çš„æˆå‘˜</p></li></ul><h3 id="_10-åŒ¿åå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_10-åŒ¿åå‡½æ•°" aria-hidden="true">#</a> 10. åŒ¿åå‡½æ•°</h3><p>åŒ¿åå‡½æ•°lambadaè¡¨è¾¾å¼ï¼Œå°±æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°ã€‚æœ€å¸¸è§çš„åŒ¿åå‡½æ•°æ˜¯<code>[](){}</code>ã€‚å®ƒæ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚åœ¨åŒ¿åå‡½æ•°ä¸­ï¼Œ[]é‡Œé¢ç”¨æ¥æ•è·å‡½æ•°å¤–éƒ¨çš„å˜é‡ï¼Œè€Œ()é‡Œé¢å°±æ˜¯åŒ¿åå‡½æ•°çš„å‚æ•°ï¼Œ{}é‡Œé¢å°±æ˜¯å‡½æ•°çš„æ‰§è¡Œä»£ç ã€‚</p><p>æ¦‚å¿µï¼šcpp11æä¾›äº†ç±»ä¼¼ä¸Pythonçš„lambdaè¡¨è¾¾å¼çš„æ–¹å¼ï¼Œç§°ä¸ºåŒ¿åå‡½æ•°ï¼Œå…¶å¥½å¤„æ˜¯ï¼šä½¿ç”¨åŒ¿åå‡½æ•°ï¼Œå¯ä»¥å…å»å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ã€‚è¿™æ ·åŒ¿åå‡½æ•°ä»…åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™æ‰ä¼šåˆ›å»ºå‡½æ•°å¯¹è±¡ï¼Œè€Œè°ƒç”¨ç»“æŸåç«‹å³é‡Šæ”¾ï¼Œæ‰€ä»¥åŒ¿åå‡½æ•°æ¯”éåŒ¿åå‡½æ•°æ›´èŠ‚çœç©ºé—´ã€‚</p><p>Lambdaåœ¨STLä¸­ä½¿ç”¨ï¼Œä¹¦å†™ä¸Šå¸¦æ¥æå¤§çš„æ–¹ä¾¿ã€‚ æ•è·captureï¼š //ç±»ä¼¼äºå‡½æ•°åï¼Œæ˜¯åŒ¿åå‡½æ•°çš„è§¦å‘æ¡ä»¶</p><blockquote><p>[] <a href="//xn--7iq68kgqhj0mx35c.xn--Lambda-n28i4xylt6odthbqkvpan7tb78cdc0cg3e845iuoag53fwma37mnyx" target="_blank" rel="noopener noreferrer">//æœªå®šä¹‰å˜é‡.è¯•å›¾åœ¨Lambdaå†…ä½¿ç”¨ä»»ä½•å¤–éƒ¨å˜é‡éƒ½æ˜¯é”™è¯¯çš„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. [x, &amp;y] //x æŒ‰å€¼æ•è·, y æŒ‰å¼•ç”¨æ•è·. [&amp;] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å¼•ç”¨æ•è· [=] //ç”¨åˆ°çš„ä»»ä½•å¤–éƒ¨å˜é‡éƒ½éšå¼æŒ‰å€¼æ•è· [&amp;, x] //xæ˜¾å¼åœ°æŒ‰å€¼æ•è·. å…¶å®ƒå˜é‡æŒ‰å¼•ç”¨æ•è· [=, &amp;z] //zæŒ‰å¼•ç”¨æ•è·. å…¶å®ƒå˜é‡æŒ‰å€¼æ•è·</p></blockquote><p>parameters: //å‚æ•° return-type: //è¿”å›å€¼ body: //å‡½æ•°ä½“ ä¾‹å­ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// éšå¼è¿”å›ç±»å‹</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">++</span>x<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">// æ²¡æœ‰returnè¯­å¥ -&gt; lambda å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯&#39;void&#39;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">++</span>global_x<span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">// æ²¡æœ‰å‚æ•°,ä»…è®¿é—®æŸä¸ªå…¨å±€å˜é‡</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token operator">++</span>global_x<span class="token punctuation">;</span> <span class="token punctuation">}</span>     <span class="token comment">// ä¸ä¸Šä¸€ä¸ªç›¸åŒ,çœç•¥äº†()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-ç±»å†…é»˜è®¤çš„å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_11-ç±»å†…é»˜è®¤çš„å‡½æ•°" aria-hidden="true">#</a> 11. ç±»å†…é»˜è®¤çš„å‡½æ•°</h3><p>6ç§ï¼š<!---->ã€constæˆå‘˜ã€å–åœ°å€åŠconstå–åœ°å€æ“ä½œç¬¦é‡è½½ã€‚</p><figure><img src="https://s3.bmp.ovh/imgs/2022/08/28/a9b8047f51af8e86.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_12-ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_12-ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°" aria-hidden="true">#</a> 12. ä»€ä¹ˆæ—¶å€™é‡è½½æ‹·è´æ„é€ å‡½æ•°</h3><h3 id="_13-æ·±æµ…æ‹·è´" tabindex="-1"><a class="header-anchor" href="#_13-æ·±æµ…æ‹·è´" aria-hidden="true">#</a> 13. æ·±æµ…æ‹·è´</h3><p>æµ…æ‹·è´å°±æ˜¯ç›´æ¥ç”¨ç­‰å·è¿æ¥çš„èµ‹å€¼æ“ä½œï¼Œä¸€èˆ¬ç±»ä¸­ä¸æ¶‰åŠå†…å­˜å¼€è¾Ÿçš„è¯ï¼Œæµ…æ‹·è´å¯ä»¥ä½¿ç”¨ã€‚æ·±æ‹·è´éœ€è¦é‡å†™æ‹·è´æ„é€ å‡½æ•°ã€‚æµ…æ‹·è´å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„æŒ‡é’ˆæ¥æŒ‡å‘å¯¹åº”çš„å†…å®¹ã€‚æ·±æ‹·è´æ˜¯æ–°å¼€è¾Ÿä¸€å—åŒºåŸŸï¼Œç„¶åå‘æŒ‡å®šçš„å†…å®¹å­˜å…¥è¿™å—åŒºåŸŸï¼Œç„¶åç”¨ä¸€ä¸ªæ–°çš„æŒ‡é’ˆæŒ‡å‘è¿™å—åŒºåŸŸã€‚</p><p>æµ…æ‹·è´åªæ˜¯å¯¹æŒ‡é’ˆçš„æ‹·è´ï¼Œæµ…æ‹·è´åä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼›æ·±æ‹·è´ä¸ä»…å¯¹æŒ‡é’ˆè¿›è¡Œæ‹·è´ï¼Œè€Œä¸”å¯¹æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹è¿›è¡Œæ‹·è´ï¼Œç»æ·±æ‹·è´åçš„æŒ‡é’ˆæ˜¯æŒ‡å‘ä¸¤ä¸ªä¸åŒåœ°å€çš„æŒ‡é’ˆã€‚</p><p>å½“æ‹·è´ä¸€ä¸ªåŸºç±»æŒ‡é’ˆåˆ°æ´¾ç”Ÿç±»æ—¶ï¼Œå¦‚æœè°ƒç”¨ç³»ç»Ÿé»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œè¿™æ—¶åªæ˜¯å¯¹æŒ‡é’ˆè¿›è¡Œæ‹·è´ï¼Œä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œè¿™å°±ä¼šå¯¼è‡´æŒ‡é’ˆè¢«åˆ†é…äº†ä¸€æ¬¡å†…å­˜ï¼Œä½†å†…å­˜è¢«é‡Šæ”¾äº†ä¸¤æ¬¡ï¼ˆä¸¤æ¬¡è°ƒç”¨ææ„å‡½æ•°ï¼‰ï¼Œé€ æˆç¨‹åºå´©æºƒã€‚</p><p>å¯¹äºç±»ä¸­å¼€è¾Ÿäº†å†…å­˜ç©ºé—´çš„æƒ…å†µï¼Œå¿…é¡»é‡å†™æ‹·è´æ„é€ å‡½æ•°ä»¥å®ç°æ·±æ‹·è´ï¼Œå¦åˆ™ä¼šå‡ºç°ä¸€å—å†…å­˜åŒºåŸŸè¢«é‡å¤é‡Šæ”¾å¤šæ¬¡çš„é”™è¯¯ã€‚</p><h3 id="_14-stlå®¹å™¨åº•å±‚å®ç°" tabindex="-1"><a class="header-anchor" href="#_14-stlå®¹å™¨åº•å±‚å®ç°" aria-hidden="true">#</a> 14. stlå®¹å™¨åº•å±‚å®ç°</h3><h3 id="_15-unordered-mapå’ŒmapåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_15-unordered-mapå’ŒmapåŒºåˆ«" aria-hidden="true">#</a> 15. unordered_mapå’ŒmapåŒºåˆ«</h3><h3 id="_16-é”çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_16-é”çš„ä½œç”¨" aria-hidden="true">#</a> 16. é”çš„ä½œç”¨</h3><h3 id="_17-lock-guardçš„ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_17-lock-guardçš„ç”¨æ³•" aria-hidden="true">#</a> 17. lock_guardçš„ç”¨æ³•</h3><h2 id="æ“ä½œç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#æ“ä½œç³»ç»Ÿ" aria-hidden="true">#</a> æ“ä½œç³»ç»Ÿ</h2><h3 id="_1-è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_1-è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«" aria-hidden="true">#</a> 1. è¿›ç¨‹å’Œçº¿ç¨‹åŒºåˆ«</h3><h3 id="_2-ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“" tabindex="-1"><a class="header-anchor" href="#_2-ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“" aria-hidden="true">#</a> 2. ä¸€ä¸ªçº¿ç¨‹å´©æºƒäº†å¯¹å…¶ä»–çº¿ç¨‹æœ‰ä»€ä¹ˆå½±å“</h3><h2 id="æ•°æ®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç»“æ„" aria-hidden="true">#</a> æ•°æ®ç»“æ„</h2><h3 id="_1-çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µ-ç‰¹æ€§-æ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²-å¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—" tabindex="-1"><a class="header-anchor" href="#_1-çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µ-ç‰¹æ€§-æ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²-å¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—" aria-hidden="true">#</a> 1. çº¢é»‘æ ‘åŸºç¡€æ¦‚å¿µï¼Œç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆé¢œè‰²ï¼Œå¯ä»¥æœ‰è¿ç»­ä¸¤ä¸ªçº¢èŠ‚ç‚¹å—</h3><h2 id="ç®—æ³•é¢˜" tabindex="-1"><a class="header-anchor" href="#ç®—æ³•é¢˜" aria-hidden="true">#</a> ç®—æ³•é¢˜</h2><h3 id="_1-è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹-åŒæŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#_1-è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹-åŒæŒ‡é’ˆ" aria-hidden="true">#</a> 1. è·å–é“¾è¡¨å€’æ•°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒæŒ‡é’ˆï¼‰</h3><h1 id="c-ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#c-ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ" aria-hidden="true">#</a> C++ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ</h1><p>å†…å®¹å‚è€ƒè‡ª<a href="https://blog.csdn.net/m0_67623521/article/details/125695620" target="_blank" rel="noopener noreferrer">csdn1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å’Œ<a href="https://blog.csdn.net/K346K346/article/details/81478223?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165743267316781432922953%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165743267316781432922953&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-81478223-null-null.142%5Ev32%5Eexperiment_2_v1,185%5Ev2%5Econtrol&amp;utm_term=c%2B%2B%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">csdn2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><p>C++ STLï¼ˆStandard Template Libraryï¼‰ä¸€å…±æä¾›äº†å››ç§æŒ‡é’ˆï¼šauto_ptrã€unique_ptrã€shared_ptr å’Œ weak_ptrï¼Œå…¶ä¸­auto_ptræ˜¯cpp98æä¾›çš„ï¼Œcpp11 å·²å°†å…¶æ‘’å¼ƒï¼Œå¹¶æå‡ºäº† unique_ptr æ›¿ä»£ auto_ptrã€‚</p><p>è™½ç„¶ auto_ptr å·²è¢«æ‘’å¼ƒï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­ä»å¯ä½¿ç”¨ï¼Œä½†å»ºè®®ä½¿ç”¨æ›´åŠ å®‰å…¨çš„ unique_ptrã€‚cpp98ä¸­åªæœ‰ä¸€ç§æ™ºèƒ½æŒ‡é’ˆauto_ptrï¼Œè¿™ä¸ªæ™ºèƒ½æŒ‡é’ˆå®é™…ä¸Šæ˜¯ä¸€ä¸ªå°è£…å¥½çš„ç±»ï¼Œæ–¹ä¾¿ç®¡ç†æŒ‡é’ˆï¼Œä½¿ç”¨æ„é€ å‡½æ•°æ¥ç”ŸæˆæŒ‡é’ˆï¼Œä½¿ç”¨ææ„å‡½æ•°æ¥é‡Šæ”¾æŒ‡é’ˆï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚ä½†æ˜¯auto_ptræœ‰æ¼æ´ï¼ŒåŸºäºæ­¤ï¼Œæå‡ºäº†ä¸‰ç§æ–°æŒ‡é’ˆï¼Œunique_ptré™åˆ¶äº†æŒ‡é’ˆçš„æ‰€æœ‰æƒï¼Œåªæœ‰ä¸€ä¸ªå¯¹è±¡æ‰€æŒæœ‰ï¼›shared_ptråœ¨æŒ‡é’ˆç®¡ç†ç±»ä¸­æ–°å¢ä¸€ä¸ªè®¡æ•°å€¼ï¼Œæ¥è®°å½•æŒ‡é’ˆæ‰€å¼•ç”¨å¯¹è±¡çš„ä¸ªæ•°ï¼Œå½“è®¡æ•°å€¼ä¸º0æ—¶å°±é‡Šæ”¾æŒ‡é’ˆï¼›weak_ptræ™ºèƒ½æŒ‡é’ˆæ²¡æœ‰æ²¡æœ‰é‡è½½ operator* å’Œ operator-&gt;ï¼Œä»–å¸¸ä½œä¸ºshared_ptrçš„è¾…åŠ©æŒ‡é’ˆï¼Œç”¨äºç›‘æµ‹shared_ptrçš„å¼•ç”¨è®¡æ•°å€¼ã€‚</p><h2 id="_1ã€unique-ptr" tabindex="-1"><a class="header-anchor" href="#_1ã€unique-ptr" aria-hidden="true">#</a> 1ã€unique_ptr</h2><p>å®ƒæŒæœ‰å¯¹å¯¹è±¡çš„ç‹¬æœ‰æƒâ€”â€”ä¸¤ä¸ªunique_ptr ä¸èƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå³ unique_ptr ä¸å…±äº«å®ƒæ‰€ç®¡ç†çš„å¯¹è±¡ã€‚å®ƒæ— æ³•å¤åˆ¶åˆ°å…¶ä»– unique_ptrï¼Œæ— æ³•é€šè¿‡å€¼ä¼ é€’åˆ°å‡½æ•°ï¼Œä¹Ÿæ— æ³•ç”¨äºéœ€è¦å‰¯æœ¬çš„ä»»ä½•æ ‡å‡†æ¨¡æ¿åº“ ï¼ˆSTLï¼‰ç®—æ³•ã€‚åªèƒ½ç§»åŠ¨ unique_ptrï¼Œå³å¯¹èµ„æºç®¡ç†æƒé™å¯ä»¥å®ç°è½¬ç§»ã€‚è¿™æ„å‘³ç€ï¼Œå†…å­˜èµ„æºæ‰€æœ‰æƒå¯ä»¥è½¬ç§»åˆ°å¦ä¸€ä¸ª unique_ptrï¼Œå¹¶ä¸”åŸå§‹ unique_ptr ä¸å†æ‹¥æœ‰æ­¤èµ„æºã€‚</p><p>unique_ptr ä¸åŸå§‹æŒ‡é’ˆä¸€æ ·æœ‰æ•ˆï¼Œå¹¶å¯ç”¨äº STL å®¹å™¨ã€‚å°† unique_ptr å®ä¾‹æ·»åŠ åˆ° STL å®¹å™¨è¿è¡Œæ•ˆç‡å¾ˆé«˜ï¼Œå› ä¸ºé€šè¿‡ unique_ptr çš„ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œä¸å†éœ€è¦è¿›è¡Œå¤åˆ¶æ“ä½œã€‚</p><p>ç‹¬å çš„æŒ‡é’ˆï¼Œåªå¯ä»¥è‡ªå·±ä½¿ç”¨ï¼Œå®ƒæŒ‡å‘çš„å¯¹è±¡åªå¯ä»¥ä»–ä¸€ä¸ªäººä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨moveå°†ä½¿ç”¨æƒè½¬ç§»ï¼Œå¦‚ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">auto</span> ptr1<span class="token operator">=</span><span class="token generic-function"><span class="token function">make_unique</span><span class="token generic class-name"><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span></span></span> <span class="token punctuation">(</span><span class="token string">&quot;12345&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>ptr1<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">auto</span> ptr2<span class="token operator">=</span>std<span class="token double-colon punctuation">::</span><span class="token function">move</span><span class="token punctuation">(</span>ptr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// cout&lt;&lt;*ptr1&lt;&lt;endl;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>ptr2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//è¾“å‡ºç»“æœï¼š</span>
<span class="token comment">//12345</span>
<span class="token comment">//12345</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆçš„æ–¹æ³•ï¼šé€šè¿‡æ„é€ å‡½æ•°æŒ‡å®šã€é€šè¿‡ reset æ–¹æ³•é‡æ–°æŒ‡å®šã€é€šè¿‡ release æ–¹æ³•é‡Šæ”¾æ‰€æœ‰æƒã€é€šè¿‡ç§»åŠ¨è¯­ä¹‰è½¬ç§»æ‰€æœ‰æƒï¼ˆmoveï¼‰ï¼Œunique_ptr è¿˜å¯èƒ½æ²¡æœ‰å¯¹è±¡ï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¸º emptyã€‚</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> p1<span class="token punctuation">;</span>
    p1<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p1<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>p3<span class="token operator">=</span>p1<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p3<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
    unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> p4<span class="token operator">=</span><span class="token function">move</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>p4<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
 
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 123</span>
<span class="token comment">// 1234</span>
<span class="token comment">// 123</span>
<span class="token comment">// 1234</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2ã€auto-ptr" tabindex="-1"><a class="header-anchor" href="#_2ã€auto-ptr" aria-hidden="true">#</a> 2ã€auto_ptr</h2><p>å¼•å…¥é—®é¢˜ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>auto_ptr<span class="token operator">&lt;</span> string<span class="token operator">&gt;</span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">string</span> <span class="token punctuation">(</span><span class="token string">&quot;string1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
auto_ptr<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> p2<span class="token punctuation">;</span>
p2<span class="token operator">=</span>p1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸Šé¢çš„æŒ‡é’ˆæ˜¯æ™®é€šçš„æŒ‡é’ˆï¼Œé‚£ä¹ˆå°±ä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯deleteçš„æ—¶å€™ä¼šåˆ é™¤æœ‰ä¸¤æ¬¡ï¼Œè§£å†³æ–¹æ¡ˆæœ‰å¤šç§ï¼š</p><p>1ã€é‡è½½å¤åˆ¶è¿ç®—ç¬¦ï¼Œå°†å…¶å®šä¹‰ä¸ºæ·±å¤åˆ¶ï¼Œè¿™æ ·ä»–ä»¬ä¿©å°±ä¼šæŒ‡å‘ä¸åŒçš„åœ°æ–¹ï¼Œç¼ºç‚¹æ˜¯ä¼šæµªè´¹ç©ºé—´ã€‚</p><p>2ã€å»ºç«‹æ‰€æœ‰å…¨æ¦‚å¿µã€‚å°†æŒ‡é’ˆå®šä¹‰ä¸ºåªå¯ä»¥æœ‰ä¸€ä¸ªå¯¹è±¡æ‹¥æœ‰ï¼Œèµ‹å€¼è¿ç®—ç¬¦ç›´æ¥å°†æ‰€æœ‰æƒè½¬ç§»ã€‚è¿™å°±æ˜¯ç”¨äº auto_ptr å’Œ unique_ptr çš„ç­–ç•¥ï¼Œä½† unique_ptr çš„ç­–ç•¥æ›´ä¸¥æ ¼ã€‚</p><p>3ã€åˆ›å»ºæ™ºèƒ½æ›´é«˜çš„æŒ‡é’ˆï¼Œè·Ÿè¸ªå¼•ç”¨ç‰¹å®šå¯¹è±¡çš„æ™ºèƒ½æŒ‡é’ˆæ•°ã€‚è¿™ç§°ä¸ºå¼•ç”¨è®¡æ•°ã€‚ä¾‹å¦‚ï¼Œèµ‹å€¼æ—¶ï¼Œè®¡æ•°å°†åŠ  1ï¼Œè€ŒæŒ‡é’ˆè¿‡æœŸæ—¶ï¼Œè®¡æ•°å°†å‡ 1,ã€‚å½“å‡ä¸º 0 æ—¶æ‰è°ƒç”¨ deleteã€‚è¿™æ˜¯ shared_ptr é‡‡ç”¨çš„ç­–ç•¥ã€‚</p><h2 id="_3ã€shared-ptr" tabindex="-1"><a class="header-anchor" href="#_3ã€shared-ptr" aria-hidden="true">#</a> 3ã€shared_ptr</h2><p>shared_ptr æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œ<strong>å…è®¸å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</strong>ï¼Œå®šä¹‰åœ¨ memory æ–‡ä»¶ä¸­ï¼Œå‘½åç©ºé—´ä¸º stdã€‚shared_ptr åˆ©ç”¨å¼•ç”¨è®¡æ•°çš„æ–¹å¼å®ç°äº†å¯¹æ‰€ç®¡ç†çš„å¯¹è±¡çš„æ‰€æœ‰æƒçš„åˆ†äº«ï¼Œå³å…è®¸å¤šä¸ª shared_ptr å…±åŒç®¡ç†åŒä¸€ä¸ªå¯¹è±¡ã€‚åƒ shared_ptr è¿™ç§æ™ºèƒ½æŒ‡é’ˆï¼Œã€ŠEffective cppã€‹ç§°ä¹‹ä¸ºâ€œå¼•ç”¨è®¡æ•°å‹æ™ºèƒ½æŒ‡é’ˆâ€ï¼ˆreference-counting smart pointerï¼ŒRCSPï¼‰ã€‚</p><p>shared_ptr æ˜¯ä¸ºäº†è§£å†³ auto_ptr åœ¨å¯¹è±¡æ‰€æœ‰æƒä¸Šçš„å±€é™æ€§ï¼ˆauto_ptr æ˜¯ç‹¬å çš„ï¼‰ï¼Œåœ¨ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„æœºåˆ¶ä¸Šæä¾›äº†å¯ä»¥å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå½“ç„¶è¿™éœ€è¦é¢å¤–çš„å¼€é”€ï¼š ï¼ˆ1ï¼‰shared_ptr å¯¹è±¡é™¤äº†åŒ…æ‹¬ä¸€ä¸ªæ‰€æ‹¥æœ‰å¯¹è±¡çš„æŒ‡é’ˆå¤–ï¼Œè¿˜å¿…é¡»åŒ…æ‹¬ä¸€ä¸ªå¼•ç”¨è®¡æ•°ä»£ç†å¯¹è±¡çš„æŒ‡é’ˆï¼› ï¼ˆ2ï¼‰æ—¶é—´ä¸Šçš„å¼€é”€ä¸»è¦åœ¨åˆå§‹åŒ–å’Œæ‹·è´æ“ä½œä¸Šï¼Œ * å’Œ -&gt; æ“ä½œç¬¦é‡è½½çš„å¼€é”€è·Ÿ auto_ptr æ˜¯ä¸€æ ·ï¼› ï¼ˆ3ï¼‰å¼€é”€å¹¶ä¸æ˜¯æˆ‘ä»¬ä¸ä½¿ç”¨ shared_ptr çš„ç†ç”±,ï¼Œæ°¸è¿œä¸è¦è¿›è¡Œä¸æˆç†Ÿçš„ä¼˜åŒ–ï¼Œç›´åˆ°æ€§èƒ½åˆ†æå™¨å‘Šè¯‰ä½ è¿™ä¸€ç‚¹ã€‚</p><p>å¯ä»¥ä½¿ç”¨è¾…åŠ©ç±»æ¥å®ç°è¯¥æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒçš„å…·ä½“åšæ³•å¦‚ä¸‹ï¼š ï¼ˆaï¼‰å½“åˆ›å»ºæ™ºèƒ½æŒ‡é’ˆç±»çš„æ–°å¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–æŒ‡é’ˆï¼Œå¹¶å°†å¼•ç”¨è®¡æ•°è®¾ç½®ä¸º1ï¼› ï¼ˆbï¼‰å½“èƒ½æ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬æ—¶ï¼Œæ‹·è´æ„é€ å‡½æ•°å¤åˆ¶å‰¯æœ¬çš„æŒ‡å‘è¾…åŠ©ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¹¶å¢åŠ è¾…åŠ©ç±»å¯¹è±¡å¯¹åŸºç¡€ç±»å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆåŠ 1ï¼‰ï¼› ï¼ˆcï¼‰ä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦å¯¹ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆç±»å¯¹è±¡è¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¤„ç†å¤æ‚ä¸€ç‚¹ï¼šå…ˆä½¿å·¦æ“ä½œæ•°çš„å¼•ç”¨è®¡æ•°å‡ 1ï¼ˆä¸ºä½•å‡ 1ï¼šå› ä¸ºæŒ‡é’ˆå·²ç»æŒ‡å‘åˆ«çš„åœ°æ–¹ï¼‰ï¼Œå¦‚æœå‡1åå¼•ç”¨è®¡æ•°ä¸º 0ï¼Œåˆ™é‡Šæ”¾æŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡å†…å­˜ã€‚ç„¶åå¢åŠ å³æ“ä½œæ•°æ‰€æŒ‡å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆä¸ºä½•å¢åŠ ï¼šå› ä¸ºæ­¤æ—¶åšæ“ä½œæ•°æŒ‡å‘å¯¹è±¡å³å³æ“ä½œæ•°æŒ‡å‘å¯¹è±¡ï¼‰ï¼› ï¼ˆdï¼‰å®Œæˆææ„å‡½æ•°ï¼šè°ƒç”¨ææ„å‡½æ•°æ—¶ï¼Œææ„å‡½æ•°å…ˆä½¿å¼•ç”¨è®¡æ•°å‡ 1ï¼Œå¦‚æœå‡è‡³ 0 åˆ™ delete å¯¹è±¡ã€‚ æ¥å£ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">int</span> xVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> yVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">x</span><span class="token punctuation">(</span>xVal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>yVal<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> y<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">setX</span><span class="token punctuation">(</span><span class="token keyword">int</span> xVal<span class="token punctuation">)</span> <span class="token punctuation">{</span> x <span class="token operator">=</span> xVal<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">setY</span><span class="token punctuation">(</span><span class="token keyword">int</span> yVal<span class="token punctuation">)</span> <span class="token punctuation">{</span> y <span class="token operator">=</span> yVal<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ç°ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">SmartPtr</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">//æ„é€ å‡½æ•°</span>
	<span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> rp <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
	<span class="token function">SmartPtr</span><span class="token punctuation">(</span>Point <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">rp</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">RefPtr</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token keyword">const</span> SmartPtr <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">rp</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span>rp<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		<span class="token operator">++</span>rp<span class="token operator">-&gt;</span>count<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;in copy constructor&quot;</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// é‡è½½èµ‹å€¼è¿ç®—ç¬¦</span>
	SmartPtr<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> SmartPtr<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token operator">++</span>rhs<span class="token punctuation">.</span>rp<span class="token operator">-&gt;</span>count<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>rp <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>rp<span class="token operator">-&gt;</span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">delete</span> rp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		rp <span class="token operator">=</span> rhs<span class="token punctuation">.</span>rp<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;in assignment operator&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// é‡è½½-&gt;æ“ä½œç¬¦</span>
	Point<span class="token operator">*</span> <span class="token keyword">operator</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> rp<span class="token operator">-&gt;</span>p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// é‡è½½*æ“ä½œç¬¦</span>
	Point<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>rp<span class="token operator">-&gt;</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
	<span class="token operator">~</span><span class="token function">SmartPtr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>rp<span class="token operator">-&gt;</span>count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">delete</span> rp<span class="token punctuation">;</span>
		<span class="token keyword">else</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;è¿˜æœ‰&quot;</span> <span class="token operator">&lt;&lt;</span> rp<span class="token operator">-&gt;</span>count <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ä¸ªæŒ‡é’ˆæŒ‡å‘åŸºç¡€å¯¹è±¡&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 
<span class="token keyword">private</span><span class="token operator">:</span>
	RefPtr<span class="token operator">*</span> rp<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4ã€weak-ptr" tabindex="-1"><a class="header-anchor" href="#_4ã€weak-ptr" aria-hidden="true">#</a> 4ã€weak_ptr</h2><p>weak_ptr è¢«è®¾è®¡ä¸ºä¸ shared_ptr å…±åŒå·¥ä½œï¼Œå¯ä»¥ä»ä¸€ä¸ª shared_ptr æˆ–è€…å¦ä¸€ä¸ª weak_ptr å¯¹è±¡æ„é€ è€Œæ¥ã€‚weak_ptr æ˜¯ä¸ºäº†é…åˆ shared_ptr è€Œå¼•å…¥çš„ä¸€ç§æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒæ›´åƒæ˜¯ shared_ptr çš„ä¸€ä¸ªåŠ©æ‰‹è€Œä¸æ˜¯æ™ºèƒ½æŒ‡é’ˆï¼Œå› ä¸ºå®ƒä¸å…·æœ‰æ™®é€šæŒ‡é’ˆçš„è¡Œä¸ºï¼Œæ²¡æœ‰é‡è½½ operator* å’Œ operator-&gt; ï¼Œå› æ­¤å–åä¸º weakï¼Œè¡¨æ˜å…¶æ˜¯åŠŸèƒ½è¾ƒå¼±çš„æ™ºèƒ½æŒ‡é’ˆã€‚*<strong>å®ƒçš„æœ€å¤§ä½œç”¨åœ¨äºååŠ© shared_ptr å·¥ä½œï¼Œå¯è·å¾—èµ„æºçš„è§‚æµ‹æƒï¼Œåƒæ—è§‚è€…é‚£æ ·è§‚æµ‹èµ„æºçš„ä½¿ç”¨æƒ…å†µã€‚è§‚å¯Ÿè€…æ„å‘³ç€ weak_ptr åªå¯¹ shared_ptr è¿›è¡Œå¼•ç”¨ï¼Œè€Œä¸æ”¹å˜å…¶å¼•ç”¨è®¡æ•°ï¼Œå½“è¢«è§‚å¯Ÿçš„ shared_ptr å¤±æ•ˆåï¼Œç›¸åº”çš„ weak_ptr ä¹Ÿç›¸åº”å¤±æ•ˆã€‚</strong></p><p>è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œç”¨æ³•ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>weak_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> w<span class="token punctuation">;</span>	 	<span class="token comment">//åˆ›å»ºç©º weak_ptrï¼Œå¯ä»¥æŒ‡å‘ç±»å‹ä¸º T çš„å¯¹è±¡</span>
weak_ptr<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">w</span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//ä¸ shared_ptr æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ï¼Œshared_ptr å¼•ç”¨è®¡æ•°ä¸å˜ã€‚Tå¿…é¡»èƒ½è½¬æ¢ä¸º sp æŒ‡å‘çš„ç±»å‹</span>
w<span class="token operator">=</span>p<span class="token punctuation">;</span>				<span class="token comment">//p å¯ä»¥æ˜¯ shared_ptr æˆ– weak_ptrï¼Œèµ‹å€¼å w ä¸ p å…±äº«å¯¹è±¡</span>
w<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//å°† w ç½®ç©º</span>
w<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//è¿”å›ä¸ w å…±äº«å¯¹è±¡çš„ shared_ptr çš„æ•°é‡</span>
w<span class="token punctuation">.</span><span class="token function">expired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//è‹¥ w.use_count() ä¸º 0ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span>
w<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//å¦‚æœ expired() ä¸º trueï¼Œè¿”å›ä¸€ä¸ªç©º shared_ptrï¼Œå¦åˆ™è¿”å›éç©º shared_ptr</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>weak_ptr å¯¹è±¡å¼•ç”¨èµ„æºæ—¶ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿé€šè¿‡ lock() æ–¹æ³•æ¥åˆ¤æ–­å®ƒæ‰€ç®¡ç†çš„èµ„æºæ˜¯å¦è¢«é‡Šæ”¾ã€‚</p><h3 id="weak-ptræŒ‡é’ˆçš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#weak-ptræŒ‡é’ˆçš„ä½œç”¨" aria-hidden="true">#</a> weak_ptræŒ‡é’ˆçš„ä½œç”¨</h3><p>ç°åœ¨è¦è¯´çš„é—®é¢˜æ˜¯ï¼Œweak_ptr åˆ°åº•æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿä»ä¸Šé¢é‚£ä¸ªä¾‹å­çœ‹æ¥ï¼Œä¼¼ä¹æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚å…¶å® weak_ptr å¯ç”¨äºæ‰“ç ´å¾ªç¯å¼•ç”¨ã€‚å¼•ç”¨è®¡æ•°æ˜¯ä¸€ç§ä¾¿åˆ©çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯ä¸èƒ½ç®¡ç†å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­å¦‚ä¸‹ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>
  
<span class="token keyword">class</span> <span class="token class-name">Woman</span><span class="token punctuation">;</span>  
<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>  
    <span class="token comment">//std::weak_ptr&lt;Woman&gt; _wife;  </span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Woman<span class="token operator">&gt;</span> _wife<span class="token punctuation">;</span>  
<span class="token keyword">public</span><span class="token operator">:</span>  
    <span class="token keyword">void</span> <span class="token function">setWife</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Woman<span class="token operator">&gt;</span> woman<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        _wife <span class="token operator">=</span> woman<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token keyword">void</span> <span class="token function">doSomthing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>_wife<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
  
    <span class="token operator">~</span><span class="token function">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;kill man\n&quot;</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  
  
<span class="token keyword">class</span> <span class="token class-name">Woman</span> <span class="token punctuation">{</span>  
<span class="token keyword">private</span><span class="token operator">:</span>  
    <span class="token comment">//std::weak_ptr&lt;Man&gt; _husband;  </span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Man<span class="token operator">&gt;</span> _husband<span class="token punctuation">;</span>  
<span class="token keyword">public</span><span class="token operator">:</span>  
    <span class="token keyword">void</span> <span class="token function">setHusband</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Man<span class="token operator">&gt;</span> man<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        _husband <span class="token operator">=</span> man<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token operator">~</span><span class="token function">Woman</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span><span class="token string">&quot;kill woman\n&quot;</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Man<span class="token operator">&gt;</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>Woman<span class="token operator">&gt;</span> <span class="token function">w</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">Woman</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span>m <span class="token operator">&amp;&amp;</span> w<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        m<span class="token operator">-&gt;</span><span class="token function">setWife</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        w<span class="token operator">-&gt;</span><span class="token function">setHusband</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ Man ç±»å†…éƒ¨ä¼šå¼•ç”¨ä¸€ä¸ª Womanï¼ŒWoman ç±»å†…éƒ¨ä¹Ÿå¼•ç”¨ä¸€ä¸ª Manã€‚å½“ä¸€ä¸ª man å’Œä¸€ä¸ª woman æ˜¯å¤«å¦»çš„æ—¶å€™ï¼Œä»–ä»¬ç›´æ¥å°±å­˜åœ¨äº†ç›¸äº’å¼•ç”¨é—®é¢˜ã€‚man å†…éƒ¨æœ‰ä¸ªç”¨äºç®¡ç†wifeç”Ÿå‘½æœŸçš„ shared_ptr å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ wife å¿…å®šæ˜¯åœ¨ husband å»ä¸–ä¹‹åæ‰èƒ½å»ä¸–ã€‚åŒæ ·çš„ï¼Œwoman å†…éƒ¨ä¹Ÿæœ‰ä¸€ä¸ªç®¡ç† husband ç”Ÿå‘½æœŸçš„ shared_ptr å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ husband å¿…é¡»åœ¨ wife å»ä¸–ä¹‹åæ‰èƒ½å»ä¸–ã€‚è¿™å°±æ˜¯å¾ªç¯å¼•ç”¨å­˜åœ¨çš„é—®é¢˜ï¼šhusband çš„ç”Ÿå‘½æœŸç”± wife çš„ç”Ÿå‘½æœŸå†³å®šï¼Œwife çš„ç”Ÿå‘½æœŸç”± husband çš„ç”Ÿå‘½æœŸå†³å®šï¼Œæœ€åä¸¤äººéƒ½æ­»ä¸æ‰ï¼Œè¿åäº†è‡ªç„¶è§„å¾‹ï¼Œå¯¼è‡´äº†å†…å­˜æ³„æ¼ã€‚</p><p>ä¸€èˆ¬æ¥è®²ï¼Œè§£é™¤è¿™ç§å¾ªç¯å¼•ç”¨æœ‰ä¸‹é¢ä¸‰ç§å¯è¡Œçš„æ–¹æ³•ï¼š ï¼ˆ1ï¼‰å½“åªå‰©ä¸‹æœ€åä¸€ä¸ªå¼•ç”¨çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨æ‰“ç ´å¾ªç¯å¼•ç”¨é‡Šæ”¾å¯¹è±¡ã€‚ ï¼ˆ2ï¼‰å½“ parent çš„ç”Ÿå­˜æœŸè¶…è¿‡ children çš„ç”Ÿå­˜æœŸçš„æ—¶å€™ï¼Œchildren æ”¹ä¸ºä½¿ç”¨ä¸€ä¸ªæ™®é€šæŒ‡é’ˆæŒ‡å‘ parentã€‚ ï¼ˆ3ï¼‰ä½¿ç”¨å¼±å¼•ç”¨çš„æ™ºèƒ½æŒ‡é’ˆæ‰“ç ´è¿™ç§å¾ªç¯å¼•ç”¨ã€‚ è™½ç„¶è¿™ä¸‰ç§æ–¹æ³•éƒ½å¯è¡Œï¼Œä½†æ–¹æ³• 1 å’Œæ–¹æ³• 2 éƒ½éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨æ§åˆ¶ï¼Œéº»çƒ¦ä¸”å®¹æ˜“å‡ºé”™ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œä½¿ç”¨å¼±å¼•ç”¨çš„æ™ºèƒ½æŒ‡é’ˆstd:weak_ptr æ¥æ‰“ç ´å¾ªç¯å¼•ç”¨ã€‚</p><p>weak_ptr å¯¹è±¡å¼•ç”¨èµ„æºæ—¶ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿé€šè¿‡ lock() æ–¹æ³•æ¥åˆ¤æ–­å®ƒæ‰€ç®¡ç†çš„èµ„æºæ˜¯å¦è¢«é‡Šæ”¾ã€‚<strong>åšæ³•å°±æ˜¯ä¸Šé¢çš„ä»£ç æ³¨é‡Šçš„åœ°æ–¹å–æ¶ˆæ³¨é‡Šï¼Œå–æ¶ˆ Woman ç±»æˆ–è€… Man ç±»çš„ä»»æ„ä¸€ä¸ªå³å¯ï¼Œä¹Ÿå¯åŒæ—¶å–æ¶ˆæ³¨é‡Šï¼Œå…¨éƒ¨æ¢æˆå¼±å¼•ç”¨ weak_ptr</strong>ã€‚</p><p>å¦å¤–å¾ˆè‡ªç„¶åœ°ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæ—¢ç„¶ weak_ptr ä¸å¢åŠ èµ„æºçš„å¼•ç”¨è®¡æ•°ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ weak_ptr å¯¹è±¡çš„æ—¶å€™ï¼Œèµ„æºè¢«çªç„¶é‡Šæ”¾äº†æ€ä¹ˆåŠå‘¢ï¼Ÿä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºä¸èƒ½ç›´æ¥é€šè¿‡ weak_ptr æ¥è®¿é—®èµ„æºã€‚é‚£ä¹ˆå¦‚ä½•é€šè¿‡ weak_ptr æ¥é—´æ¥è®¿é—®èµ„æºå‘¢ï¼Ÿç­”æ¡ˆæ˜¯åœ¨éœ€è¦è®¿é—®èµ„æºçš„æ—¶å€™ weak_ptr ä¸ºä½ ç”Ÿæˆä¸€ä¸ªshared_ptrï¼Œshared_ptr èƒ½å¤Ÿä¿è¯åœ¨ shared_ptr æ²¡æœ‰è¢«é‡Šæ”¾ä¹‹å‰ï¼Œå…¶æ‰€ç®¡ç†çš„èµ„æºæ˜¯ä¸ä¼šè¢«é‡Šæ”¾çš„ã€‚åˆ›å»º shared_ptr çš„æ–¹æ³•å°±æ˜¯ lock() æˆå‘˜å‡½æ•°ã€‚</p><p>æ³¨æ„ï¼š shared_ptr å®ç°äº† operator bool() const æ–¹æ³•æ¥åˆ¤æ–­è¢«ç®¡ç†çš„èµ„æºæ˜¯å¦å·²è¢«é‡Šæ”¾ã€‚</p><h2 id="_5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#_5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ" aria-hidden="true">#</a> 5ã€å¦‚ä½•é€‰æ‹©æ™ºèƒ½æŒ‡é’ˆ</h2><p>ä¸Šæ–‡ç®€å•åœ°ä»‹ç»äº† cpp STL çš„å››ç§æ™ºèƒ½æŒ‡é’ˆã€‚å½“ç„¶ï¼Œé™¤äº† STL çš„æ™ºèƒ½æŒ‡é’ˆï¼Œcpp å‡†æ ‡å‡†åº“ Boost çš„æ™ºèƒ½æŒ‡é’ˆï¼Œæ¯”å¦‚ boost::scoped_ptrã€boost::shared_arrayã€boost::intrusive_ptr ä¹Ÿå¯åœ¨å®è·µä¸­ä½¿ç”¨ï¼Œä½†è¿™é‡Œä¸åšè¿›ä¸€æ­¥ä»‹ç»ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/xt_xiaotian/article/details/5714477" target="_blank" rel="noopener noreferrer">cpp æ™ºèƒ½æŒ‡é’ˆè¯¦è§£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p>åœ¨äº†è§£ STL çš„å››ç§æ™ºèƒ½æŒ‡é’ˆåï¼Œå¤§å®¶å¯èƒ½ä¼šæƒ³å¦ä¸€ä¸ªé—®é¢˜ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”ä½¿ç”¨å“ªç§æ™ºèƒ½æŒ‡é’ˆå‘¢ï¼Ÿ</p><p>ä¸‹é¢ç»™å‡ºå‡ ä¸ªä½¿ç”¨æŒ‡å—ã€‚ ï¼ˆ1ï¼‰å¦‚æœç¨‹åºè¦ä½¿ç”¨å¤šä¸ªæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œåº”é€‰æ‹© shared_ptrã€‚è¿™æ ·çš„æƒ…å†µåŒ…æ‹¬ï¼š</p><p>å°†æŒ‡é’ˆä½œä¸ºå‚æ•°æˆ–è€…å‡½æ•°çš„è¿”å›å€¼è¿›è¡Œä¼ é€’çš„è¯ï¼Œåº”è¯¥ä½¿ç”¨ shared_ptrï¼› ä¸¤ä¸ªå¯¹è±¡éƒ½åŒ…å«æŒ‡å‘ç¬¬ä¸‰ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œæ­¤æ—¶åº”è¯¥ä½¿ç”¨ shared_ptr æ¥ç®¡ç†ç¬¬ä¸‰ä¸ªå¯¹è±¡ï¼› STL å®¹å™¨åŒ…å«æŒ‡é’ˆã€‚å¾ˆå¤š STL ç®—æ³•éƒ½æ”¯æŒå¤åˆ¶å’Œèµ‹å€¼æ“ä½œï¼Œè¿™äº›æ“ä½œå¯ç”¨äº shared_ptrï¼Œä½†ä¸èƒ½ç”¨äº unique_ptrï¼ˆç¼–è¯‘å™¨å‘å‡º warningï¼‰å’Œ auto_ptrï¼ˆè¡Œä¸ºä¸ç¡®å®šï¼‰ã€‚å¦‚æœä½ çš„ç¼–è¯‘å™¨æ²¡æœ‰æä¾› shared_ptrï¼Œå¯ä½¿ç”¨ Boost åº“æä¾›çš„ shared_ptrã€‚ ï¼ˆ2ï¼‰å¦‚æœç¨‹åºä¸éœ€è¦å¤šä¸ªæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œåˆ™å¯ä½¿ç”¨ unique_ptrã€‚å¦‚æœå‡½æ•°ä½¿ç”¨ new åˆ†é…å†…å­˜ï¼Œå¹¶è¿”è¿˜æŒ‡å‘è¯¥å†…å­˜çš„æŒ‡é’ˆï¼Œå°†å…¶è¿”å›ç±»å‹å£°æ˜ä¸º unique_ptr æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚è¿™æ ·ï¼Œæ‰€æœ‰æƒè½¬è®©ç»™æ¥å—è¿”å›å€¼çš„ unique_ptrï¼Œè€Œè¯¥æ™ºèƒ½æŒ‡é’ˆå°†è´Ÿè´£è°ƒç”¨ deleteã€‚å¯å°† unique_ptr å­˜å‚¨åˆ° STL å®¹å™¨ä¸­ï¼Œåªè¦å¯¹å®¹å™¨å…ƒç´ ä¸ä½¿ç”¨æ‹·è´æ“ä½œçš„ç®—æ³•å³å¯ï¼ˆå¦‚ sort()ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¯åœ¨ç¨‹åºä¸­ä½¿ç”¨ç±»ä¼¼äºä¸‹é¢çš„ä»£ç æ®µã€‚</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">make_int</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token generic-function"><span class="token function">unique_ptr</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span>unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p1 <span class="token operator">&lt;&lt;</span> <span class="token char">&#39; &#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//...</span>
    vector<span class="token operator">&lt;</span>unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">vp</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		vp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make_int</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// copy temporary unique_ptr</span>
	<span class="token punctuation">}</span>
    vp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_int</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// ok because arg is temporary</span>
    <span class="token function">for_each</span><span class="token punctuation">(</span>vp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> show<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// use for_each()</span>
	<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ push_back è°ƒç”¨æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºå®ƒè¿”å›ä¸€ä¸ªä¸´æ—¶ unique_ptrï¼Œè¯¥ unique_ptr è¢«èµ‹ç»™ vp ä¸­çš„ä¸€ä¸ª unique_ptrã€‚å¦å¤–ï¼Œå¦‚æœæŒ‰å€¼è€Œä¸æ˜¯æŒ‰å¼•ç”¨ç»™ show() ä¼ é€’å¯¹è±¡ï¼Œfor_each() å°†éæ³•ï¼Œå› ä¸ºè¿™å°†å¯¼è‡´ä½¿ç”¨ä¸€ä¸ªæ¥è‡ª vp çš„éä¸´æ—¶ unique_ptr åˆå§‹åŒ– piï¼Œè€Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚å‰é¢è¯´è¿‡ï¼Œç¼–è¯‘å™¨å°†å‘ç°é”™è¯¯ä½¿ç”¨ unique_ptr çš„ä¼å›¾ã€‚</p><p>åœ¨ unique_ptr ä¸ºå³å€¼æ—¶ï¼Œå¯å°†å…¶èµ‹ç»™ shared_ptrï¼Œè¿™ä¸å°†ä¸€ä¸ª unique_ptr èµ‹ç»™å¦ä¸€ä¸ª unique_ptr éœ€è¦æ»¡è¶³çš„æ¡ä»¶ç›¸åŒï¼Œå³ unique_ptr å¿…é¡»æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ã€‚ä¸å‰é¢ä¸€æ ·ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ<code>make_int() </code>çš„è¿”å›ç±»å‹ä¸º <code>unique_ptr&lt;int&gt;</code>ï¼š</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code>unique_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">pup</span><span class="token punctuation">(</span><span class="token function">make_int</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// ok</span>
shared_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">spp</span><span class="token punctuation">(</span>pup<span class="token punctuation">)</span><span class="token punctuation">;</span>										<span class="token comment">// not allowed, pup as lvalue</span>
shared_ptr<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">spr</span><span class="token punctuation">(</span><span class="token function">make_int</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    	<span class="token comment">// ok</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¨¡æ¿ shared_ptr åŒ…å«ä¸€ä¸ªæ˜¾å¼æ„é€ å‡½æ•°ï¼Œå¯ç”¨äºå°†å³å€¼ unique_ptr è½¬æ¢ä¸º shared_ptrã€‚shared_ptr å°†æ¥ç®¡åŸæ¥å½’ unique_ptr æ‰€æœ‰çš„å¯¹è±¡ã€‚</p><p>åœ¨æ»¡è¶³ unique_ptr è¦æ±‚çš„æ¡ä»¶æ—¶ï¼Œä¹Ÿå¯ä½¿ç”¨ auto_ptrï¼Œä½† unique_ptr æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å¦‚æœä½ çš„ç¼–è¯‘å™¨æ²¡æœ‰unique_ptrï¼Œå¯è€ƒè™‘ä½¿ç”¨ Boost åº“æä¾›çš„ scoped_ptrï¼Œå®ƒä¸ unique_ptr ç±»ä¼¼ã€‚ ï¼ˆ3ï¼‰è™½ç„¶è¯´åœ¨æ»¡è¶³ unique_ptr è¦æ±‚çš„æ¡ä»¶æ—¶ï¼Œä½¿ç”¨ auto_ptr ä¹Ÿå¯ä»¥å®Œæˆå¯¹å†…å­˜èµ„æºçš„ç®¡ç†ï¼Œä½†æ˜¯å› ä¸º auto_ ptr ä¸å¤Ÿå®‰å…¨ï¼Œä¸æå€¡ä½¿ç”¨ï¼Œå³ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸åº”è¯¥ä½¿ç”¨ auto_ptrã€‚ ï¼ˆ4ï¼‰ä¸ºäº†è§£å†³ shared_ptr çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç¥­å‡º weak_ptrã€‚ ï¼ˆ5ï¼‰åœ¨å±€éƒ¨ä½œç”¨åŸŸï¼ˆä¾‹å¦‚å‡½æ•°å†…éƒ¨æˆ–ç±»å†…éƒ¨ï¼‰ï¼Œä¸”ä¸éœ€è¦å°†æŒ‡é’ˆä½œä¸ºå‚æ•°æˆ–è¿”å›å€¼è¿›è¡Œä¼ é€’çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¯¹æ€§èƒ½è¦æ±‚ä¸¥æ ¼ï¼Œä½¿ç”¨ scoped_ptr çš„å¼€é”€è¾ƒ shared_ptr ä¼šå°ä¸€äº›ã€‚scoped_ptræ­£å¦‚å…¶åï¼Œæ˜¯ä¸€ä¸ªå±€éƒ¨æŒ‡é’ˆã€‚</p><h2 id="_6ã€auto-ptrå­˜åœ¨çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_6ã€auto-ptrå­˜åœ¨çš„é—®é¢˜" aria-hidden="true">#</a> 6ã€auto_ptrå­˜åœ¨çš„é—®é¢˜</h2><p>å°½å¯èƒ½ä¸è¦æŠŠauto_ptrè®¾ç½®ä¸ºå…¨å±€æŒ‡é’ˆï¼›é™¤éè‡ªå·±çŸ¥é“åæœï¼Œå¦åˆ™ä¸è¦æŠŠauto_ptrèµ‹å€¼ç»™åŒç±»å‹çš„å¦ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆã€‚</p><p>åœ¨æŸäº›åº”ç”¨åœºæ™¯ä¸‹ï¼Œæ‹·è´æ„é€ å‡½æ•°çš„æ„ä¹‰ä¸æ˜ç¡®ï¼ŒåŒç†èµ‹å€¼è¯­å¥ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ï¼Œæ„ä¹‰åŒæ ·ä¸æ˜ç¡®ï¼Œå› ä¸ºC11æ ‡å‡†ä¹‹å‰å¹¶ä¸å­˜åœ¨ç§»åŠ¨èµ‹å€¼å’Œç§»åŠ¨æ„é€ çš„æ¦‚å¿µï¼Œè¿˜æœ‰å°±æ˜¯ä¹‹å‰è°ˆåˆ°çš„ä¸€ä¸ªå¯¹è±¡å’Œä¸€ç»„å¯¹è±¡çš„é—®é¢˜ï¼Œå¯¹äºè‡ªå®šä¹‰ç±»å‹è€Œè¨€ï¼Œauto_ptrçš„ææ„å‡½æ•°ä»…èƒ½å¤Ÿææ„ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å¤Ÿå¤„ç†ä¸€ç»„å¯¹è±¡çš„æƒ…å†µï¼Œè¿™äº›éƒ½æ˜¯å°šæœªè§£å†³çš„é—®é¢˜ã€‚</p><p>auto_ptræŒ‡é’ˆå½“ä½¿ç”¨èµ‹å€¼è¯­å¥å°†ptr1èµ‹å€¼ç»™ptr2æ—¶ï¼Œç¨‹åºå¹¶æœªæŠ¥é”™ï¼Œä½†å®é™…ä¸Šå­˜åœ¨éšæ‚£ã€‚é—®é¢˜1ï¼šauto_ptrå¹¶ä¸å…±äº«ç®¡ç†æƒï¼Œå½“ä½¿ç”¨èµ‹å€¼è¯­å¥å°†æŒ‡é’ˆèµ‹å€¼åï¼Œptr1å°†å¤±å»å¯¹å†…å­˜çš„ç®¡ç†æƒã€‚é—®é¢˜2ï¼šç¨‹åºç»“æŸæ—¶ï¼Œå†…å­˜é‡Šæ”¾æ—¶ä¼šè¢«é‡Šæ”¾ä¸¤æ¬¡ï¼Œå¼•å‘ç¨‹åºå´©æºƒã€‚</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/XiaoYuer2022/XiaoYuer2022.github.io/edit/main/src/docs/1ç¼–ç¨‹è¯­è¨€åŸºç¡€/c++éƒ¨åˆ†å†…å®¹(æ¥æºäºç‰›å®¢ï¼Œè‡ªå·±å¢åŠ ).md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 508506630@qq.com">HaoY</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/ALL_c__%E5%85%A8%E9%9D%A2%E6%80%BB%E7%BB%93.html" class="nav-link prev" aria-label="ALL_C++å…¨é¢æ€»ç»“"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="font-icon icon iconfont icon-write" style=""></span>ALL_C++å…¨é¢æ€»ç»“</div></a><a href="/docs/1%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/c__%E5%A4%8D%E4%B9%A0%E6%80%BB%E6%94%BB%E7%95%A5.html" class="nav-link next" aria-label="c++å¤ä¹ æ€»æ”»ç•¥.md"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">c++å¤ä¹ æ€»æ”»ç•¥.md<span class="font-icon icon iconfont icon-write" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn/#/Integrated/index">æ¸ICPå¤‡2023001651å·</a></div><div class="copyright">Copyright Â© 2023 Mr.HaoXX</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-cd86945f.js" defer></script>
  </body>
</html>
